{
	"info": {
		"_postman_id": "central-whatsapp-v1-complete",
		"name": "Central WhatsApp v1 - Complete API Collection",
		"description": "Complete API collection for Central WhatsApp v1 system - All endpoints under /api/whatsapp/v1",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "central-whatsapp-v1"
	},
	"variable": [
		{
			"key": "base_url",
			"value": "https://your-domain.com",
			"type": "string"
		},
		{
			"key": "admin_token", 
			"value": "your_admin_jwt_token_here",
			"type": "string"
		},
		{
			"key": "coach_token",
			"value": "your_coach_jwt_token_here", 
			"type": "string"
		}
	],
	"item": [
		{
			"name": "🔧 Admin - Setup & Configuration",
			"description": "Admin endpoints for initial setup and configuration management",
			"item": [
				{
					"name": "Debug Admin Authentication",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/whatsapp/v1/debug-auth",
							"host": ["{{base_url}}"],
							"path": ["api", "whatsapp", "v1", "debug-auth"]
						},
						"description": "Test admin authentication and permissions"
					}
				},
				{
					"name": "Setup Central WhatsApp",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"phoneNumberId\": \"YOUR_PHONE_NUMBER_ID\",\n  \"accessToken\": \"YOUR_META_ACCESS_TOKEN\",\n  \"webhookVerifyToken\": \"your_webhook_verify_token\",\n  \"appSecret\": \"your_app_secret\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/whatsapp/v1/setup",
							"host": ["{{base_url}}"],
							"path": ["api", "whatsapp", "v1", "setup"]
						},
						"description": "Initial setup of Central WhatsApp with Meta API credentials"
					}
				},
				{
					"name": "Get Central WhatsApp Config",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/whatsapp/v1/config",
							"host": ["{{base_url}}"],
							"path": ["api", "whatsapp", "v1", "config"]
						},
						"description": "Get current WhatsApp configuration"
					}
				},
				{
					"name": "Update Central WhatsApp Config",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"phoneNumberId\": \"UPDATED_PHONE_NUMBER_ID\",\n  \"accessToken\": \"UPDATED_ACCESS_TOKEN\",\n  \"isActive\": true,\n  \"webhookVerifyToken\": \"updated_verify_token\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/whatsapp/v1/config",
							"host": ["{{base_url}}"],
							"path": ["api", "whatsapp", "v1", "config"]
						},
						"description": "Update WhatsApp configuration settings"
					}
				},
				{
					"name": "Health Check",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/whatsapp/v1/health",
							"host": ["{{base_url}}"],
							"path": ["api", "whatsapp", "v1", "health"]
						},
						"description": "Check WhatsApp system health and connectivity"
					}
				},
				{
					"name": "Test Configuration",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/whatsapp/v1/test-config",
							"host": ["{{base_url}}"],
							"path": ["api", "whatsapp", "v1", "test-config"]
						},
						"description": "Test WhatsApp configuration with Meta API"
					}
				}
			]
		},
		{
			"name": "📨 Admin - Template Management",
			"description": "Admin endpoints for WhatsApp template management",
			"item": [
				{
					"name": "Create Template",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"welcome_message\",\n  \"category\": \"MARKETING\",\n  \"language\": \"en_US\",\n  \"components\": [\n    {\n      \"type\": \"BODY\",\n      \"text\": \"Hello {{1}}, welcome to our fitness program! We're excited to help you achieve your goals.\"\n    }\n  ]\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/whatsapp/v1/templates",
							"host": ["{{base_url}}"],
							"path": ["api", "whatsapp", "v1", "templates"]
						},
						"description": "Create a new WhatsApp message template"
					}
				},
				{
					"name": "Get All Templates",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/whatsapp/v1/templates?page=1&limit=20",
							"host": ["{{base_url}}"],
							"path": ["api", "whatsapp", "v1", "templates"],
							"query": [
								{"key": "page", "value": "1"},
								{"key": "limit", "value": "20"}
							]
						},
						"description": "Get all available WhatsApp templates"
					}
				},
				{
					"name": "Sync Templates from Meta",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/whatsapp/v1/templates/sync",
							"host": ["{{base_url}}"],
							"path": ["api", "whatsapp", "v1", "templates", "sync"]
						},
						"description": "Sync templates from Meta WhatsApp Business API"
					}
				}
			]
		},
		{
			"name": "👥 Admin - Contact Management",
			"description": "Admin endpoints for contact management",
			"item": [
				{
					"name": "Get Contacts",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/whatsapp/v1/contacts?page=1&limit=50&search=john",
							"host": ["{{base_url}}"],
							"path": ["api", "whatsapp", "v1", "contacts"],
							"query": [
								{"key": "page", "value": "1"},
								{"key": "limit", "value": "50"},
								{"key": "search", "value": "john"}
							]
						},
						"description": "Get all WhatsApp contacts with filtering"
					}
				}
			]
		},
		{
			"name": "💬 Admin - Message Management",
			"description": "Admin endpoints for message management and sending",
			"item": [
				{
					"name": "Send Test Message",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"to\": \"+1234567890\",\n  \"message\": \"This is a test message from Central WhatsApp system\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/whatsapp/v1/test-message",
							"host": ["{{base_url}}"],
							"path": ["api", "whatsapp", "v1", "test-message"]
						},
						"description": "Send a test WhatsApp message"
					}
				},
				{
					"name": "Send Admin Message",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"to\": \"+1234567890\",\n  \"type\": \"text\",\n  \"content\": {\n    \"text\": \"Hello from admin! This is an important message.\"\n  },\n  \"leadId\": \"optional_lead_id\",\n  \"coachId\": \"optional_coach_id\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/whatsapp/v1/send-message",
							"host": ["{{base_url}}"],
							"path": ["api", "whatsapp", "v1", "send-message"]
						},
						"description": "Send message as admin to any contact"
					}
				},
				{
					"name": "Get All Messages",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/whatsapp/v1/messages?page=1&limit=50&status=sent",
							"host": ["{{base_url}}"],
							"path": ["api", "whatsapp", "v1", "messages"],
							"query": [
								{"key": "page", "value": "1"},
								{"key": "limit", "value": "50"},
								{"key": "status", "value": "sent"}
							]
						},
						"description": "Get all WhatsApp messages with filtering"
					}
				},
				{
					"name": "Get Conversation Messages",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/whatsapp/v1/messages/conversation/{{conversation_id}}?page=1&limit=50",
							"host": ["{{base_url}}"],
							"path": ["api", "whatsapp", "v1", "messages", "conversation", "{{conversation_id}}"],
							"query": [
								{"key": "page", "value": "1"},
								{"key": "limit", "value": "50"}
							]
						},
						"description": "Get messages for specific conversation"
					}
				},
				{
					"name": "Get Messages by Coach",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/whatsapp/v1/messages/coach/{{coach_id}}?page=1&limit=50",
							"host": ["{{base_url}}"],
							"path": ["api", "whatsapp", "v1", "messages", "coach", "{{coach_id}}"],
							"query": [
								{"key": "page", "value": "1"},
								{"key": "limit", "value": "50"}
							]
						},
						"description": "Get all messages sent by specific coach"
					}
				},
				{
					"name": "Get Messages by Lead",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/whatsapp/v1/messages/lead/{{lead_id}}?page=1&limit=50",
							"host": ["{{base_url}}"],
							"path": ["api", "whatsapp", "v1", "messages", "lead", "{{lead_id}}"],
							"query": [
								{"key": "page", "value": "1"},
								{"key": "limit", "value": "50"}
							]
						},
						"description": "Get all messages for specific lead"
					}
				}
			]
		},
		{
			"name": "📊 Admin - Analytics",
			"description": "Admin endpoints for WhatsApp analytics and reporting",
			"item": [
				{
					"name": "Get WhatsApp Analytics",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/whatsapp/v1/analytics?period=7d&coachId=optional_coach_id",
							"host": ["{{base_url}}"],
							"path": ["api", "whatsapp", "v1", "analytics"],
							"query": [
								{"key": "period", "value": "7d"},
								{"key": "coachId", "value": "optional_coach_id"}
							]
						},
						"description": "Get comprehensive WhatsApp analytics"
					}
				}
			]
		},
		{
			"name": "👨‍💼 Coach - Messaging",
			"description": "Coach endpoints for sending messages and managing communication",
			"item": [
				{
					"name": "Send Coach Message",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{coach_token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"to\": \"+1234567890\",\n  \"type\": \"text\",\n  \"content\": {\n    \"text\": \"Hello! This is your coach. How are you doing with your fitness goals?\"\n  },\n  \"leadId\": \"optional_lead_id\",\n  \"templateName\": \"optional_template_name\",\n  \"templateParams\": [\"John\", \"fitness goals\"]\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/whatsapp/v1/send-message",
							"host": ["{{base_url}}"],
							"path": ["api", "whatsapp", "v1", "send-message"]
						},
						"description": "Send WhatsApp message as coach"
					}
				},
				{
					"name": "Get Coach Templates",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{coach_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/whatsapp/v1/templates",
							"host": ["{{base_url}}"],
							"path": ["api", "whatsapp", "v1", "templates"]
						},
						"description": "Get available templates for coach"
					}
				},
				{
					"name": "Get Coach Contacts",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{coach_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/whatsapp/v1/contacts?page=1&limit=50",
							"host": ["{{base_url}}"],
							"path": ["api", "whatsapp", "v1", "contacts"],
							"query": [
								{"key": "page", "value": "1"},
								{"key": "limit", "value": "50"}
							]
						},
						"description": "Get coach's contacts"
					}
				},
				{
					"name": "Get Coach Status",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{coach_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/whatsapp/v1/status",
							"host": ["{{base_url}}"],
							"path": ["api", "whatsapp", "v1", "status"]
						},
						"description": "Get coach's WhatsApp status and settings"
					}
				}
			]
		},
		{
			"name": "📥 Inbox Management",
			"description": "Inbox endpoints for message management (Admin/Coach/Staff)",
			"item": [
				{
					"name": "Get Inbox Messages",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{coach_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/whatsapp/v1/inbox?page=1&limit=50&status=unread",
							"host": ["{{base_url}}"],
							"path": ["api", "whatsapp", "v1", "inbox"],
							"query": [
								{"key": "page", "value": "1"},
								{"key": "limit", "value": "50"},
								{"key": "status", "value": "unread"}
							]
						},
						"description": "Get inbox messages for current user"
					}
				},
				{
					"name": "Get Inbox Conversation",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{coach_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/whatsapp/v1/inbox/conversation/{{conversation_id}}?page=1&limit=50",
							"host": ["{{base_url}}"],
							"path": ["api", "whatsapp", "v1", "inbox", "conversation", "{{conversation_id}}"],
							"query": [
								{"key": "page", "value": "1"},
								{"key": "limit", "value": "50"}
							]
						},
						"description": "Get specific conversation messages"
					}
				},
				{
					"name": "Send Inbox Message",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{coach_token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"conversationId\": \"conversation_id_here\",\n  \"to\": \"+1234567890\",\n  \"type\": \"text\",\n  \"content\": {\n    \"text\": \"Replying from inbox - thanks for your message!\"\n  }\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/whatsapp/v1/inbox/send",
							"host": ["{{base_url}}"],
							"path": ["api", "whatsapp", "v1", "inbox", "send"]
						},
						"description": "Send message from inbox interface"
					}
				},
				{
					"name": "Mark Message as Read",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{coach_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/whatsapp/v1/inbox/messages/{{message_id}}/read",
							"host": ["{{base_url}}"],
							"path": ["api", "whatsapp", "v1", "inbox", "messages", "{{message_id}}", "read"]
						},
						"description": "Mark specific message as read"
					}
				},
				{
					"name": "Assign Message",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{coach_token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"assignedTo\": \"user_id_to_assign\",\n  \"notes\": \"Assigned for follow-up\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/whatsapp/v1/inbox/messages/{{message_id}}/assign",
							"host": ["{{base_url}}"],
							"path": ["api", "whatsapp", "v1", "inbox", "messages", "{{message_id}}", "assign"]
						},
						"description": "Assign message to specific user"
					}
				},
				{
					"name": "Archive Message",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{coach_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/whatsapp/v1/inbox/messages/{{message_id}}/archive",
							"host": ["{{base_url}}"],
							"path": ["api", "whatsapp", "v1", "inbox", "messages", "{{message_id}}", "archive"]
						},
						"description": "Archive specific message"
					}
				},
				{
					"name": "Get Inbox Stats",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{coach_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/whatsapp/v1/inbox/stats",
							"host": ["{{base_url}}"],
							"path": ["api", "whatsapp", "v1", "inbox", "stats"]
						},
						"description": "Get inbox statistics (unread, total, etc.)"
					}
				}
			]
		},
		{
			"name": "🤖 AI Knowledge Management",
			"description": "Admin endpoints for AI knowledge base management",
			"item": [
				{
					"name": "Create AI Knowledge Base",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Fitness Knowledge Base\",\n  \"description\": \"AI knowledge for fitness coaching responses\",\n  \"content\": \"This is the knowledge base content for fitness coaching...\",\n  \"category\": \"fitness\",\n  \"isDefault\": false,\n  \"isActive\": true\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/whatsapp/v1/ai-knowledge",
							"host": ["{{base_url}}"],
							"path": ["api", "whatsapp", "v1", "ai-knowledge"]
						},
						"description": "Create new AI knowledge base"
					}
				},
				{
					"name": "Get All AI Knowledge Bases",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/whatsapp/v1/ai-knowledge?page=1&limit=20&category=fitness",
							"host": ["{{base_url}}"],
							"path": ["api", "whatsapp", "v1", "ai-knowledge"],
							"query": [
								{"key": "page", "value": "1"},
								{"key": "limit", "value": "20"},
								{"key": "category", "value": "fitness"}
							]
						},
						"description": "Get all AI knowledge bases"
					}
				},
				{
					"name": "Get Single AI Knowledge Base",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/whatsapp/v1/ai-knowledge/{{knowledge_id}}",
							"host": ["{{base_url}}"],
							"path": ["api", "whatsapp", "v1", "ai-knowledge", "{{knowledge_id}}"]
						},
						"description": "Get specific AI knowledge base"
					}
				},
				{
					"name": "Update AI Knowledge Base",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Updated Fitness Knowledge Base\",\n  \"description\": \"Updated AI knowledge for fitness coaching\",\n  \"content\": \"Updated knowledge base content...\",\n  \"isActive\": true\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/whatsapp/v1/ai-knowledge/{{knowledge_id}}",
							"host": ["{{base_url}}"],
							"path": ["api", "whatsapp", "v1", "ai-knowledge", "{{knowledge_id}}"]
						},
						"description": "Update AI knowledge base"
					}
				},
				{
					"name": "Delete AI Knowledge Base",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/whatsapp/v1/ai-knowledge/{{knowledge_id}}",
							"host": ["{{base_url}}"],
							"path": ["api", "whatsapp", "v1", "ai-knowledge", "{{knowledge_id}}"]
						},
						"description": "Delete AI knowledge base"
					}
				},
				{
					"name": "Set Default AI Knowledge Base",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/whatsapp/v1/ai-knowledge/{{knowledge_id}}/set-default",
							"host": ["{{base_url}}"],
							"path": ["api", "whatsapp", "v1", "ai-knowledge", "{{knowledge_id}}", "set-default"]
						},
						"description": "Set AI knowledge base as default"
					}
				},
				{
					"name": "Test AI Knowledge Base",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"query\": \"What are the best exercises for weight loss?\",\n  \"context\": \"Client asking about fitness routine\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/whatsapp/v1/ai-knowledge/{{knowledge_id}}/test",
							"host": ["{{base_url}}"],
							"path": ["api", "whatsapp", "v1", "ai-knowledge", "{{knowledge_id}}", "test"]
						},
						"description": "Test AI knowledge base with query"
					}
				},
				{
					"name": "Get AI Knowledge Stats",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/whatsapp/v1/ai-knowledge/{{knowledge_id}}/stats",
							"host": ["{{base_url}}"],
							"path": ["api", "whatsapp", "v1", "ai-knowledge", "{{knowledge_id}}", "stats"]
						},
						"description": "Get AI knowledge base usage statistics"
					}
				}
			]
		},
		{
			"name": "🔗 Webhook Management",
			"description": "Webhook endpoints for Meta integration",
			"item": [
				{
					"name": "WhatsApp Webhook (Meta)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"object\": \"whatsapp_business_account\",\n  \"entry\": [\n    {\n      \"id\": \"WHATSAPP_BUSINESS_ACCOUNT_ID\",\n      \"changes\": [\n        {\n          \"value\": {\n            \"messaging_product\": \"whatsapp\",\n            \"metadata\": {\n              \"display_phone_number\": \"15550123456\",\n              \"phone_number_id\": \"PHONE_NUMBER_ID\"\n            },\n            \"messages\": [\n              {\n                \"from\": \"16315551234\",\n                \"id\": \"wamid.ABGGFlA5FpafAgo6tHcNmNjXmuSf\",\n                \"timestamp\": \"1664218796\",\n                \"text\": {\n                  \"body\": \"Hello, I'm interested in your fitness program!\"\n                },\n                \"type\": \"text\"\n              }\n            ]\n          },\n          \"field\": \"messages\"\n        }\n      ]\n    }\n  ]\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/whatsapp/v1/webhook",
							"host": ["{{base_url}}"],
							"path": ["api", "whatsapp", "v1", "webhook"]
						},
						"description": "Handle incoming WhatsApp webhook from Meta (Public endpoint)"
					}
				},
				{
					"name": "Get Webhook Status",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/whatsapp/v1/webhook/status",
							"host": ["{{base_url}}"],
							"path": ["api", "whatsapp", "v1", "webhook", "status"]
						},
						"description": "Get webhook status and configuration"
					}
				}
			]
		},
		{
			"name": "⚙️ Coach Settings",
			"description": "Coach endpoints for managing WhatsApp settings",
			"item": [
				{
					"name": "Get Coach Settings",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{coach_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/whatsapp/v1/coach/settings",
							"host": ["{{base_url}}"],
							"path": ["api", "whatsapp", "v1", "coach", "settings"]
						},
						"description": "Get coach's WhatsApp settings"
					}
				},
				{
					"name": "Create/Update Coach Settings",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{coach_token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"autoReply\": {\n    \"enabled\": true,\n    \"message\": \"Thanks for your message! I'll get back to you soon.\",\n    \"workingHours\": {\n      \"start\": \"09:00\",\n      \"end\": \"18:00\",\n      \"timezone\": \"Asia/Kolkata\"\n    }\n  },\n  \"messageTemplates\": {\n    \"welcome\": \"Welcome to my fitness coaching program!\",\n    \"followUp\": \"How are you doing with your fitness goals?\"\n  },\n  \"aiSettings\": {\n    \"enabled\": true,\n    \"personality\": \"friendly and motivational\",\n    \"responseLength\": \"medium\"\n  }\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/whatsapp/v1/coach/settings",
							"host": ["{{base_url}}"],
							"path": ["api", "whatsapp", "v1", "coach", "settings"]
						},
						"description": "Create or update coach's WhatsApp settings"
					}
				},
				{
					"name": "Customize Coach Field",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{coach_token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"fieldPath\": \"autoReply.message\",\n  \"value\": \"Custom auto-reply message for this coach\",\n  \"reason\": \"Personalized greeting for fitness clients\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/whatsapp/v1/coach/settings/customize",
							"host": ["{{base_url}}"],
							"path": ["api", "whatsapp", "v1", "coach", "settings", "customize"]
						},
						"description": "Customize specific field in coach settings"
					}
				},
				{
					"name": "Remove Coach Customization",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{coach_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/whatsapp/v1/coach/settings/customize/autoReply.message",
							"host": ["{{base_url}}"],
							"path": ["api", "whatsapp", "v1", "coach", "settings", "customize", "autoReply.message"]
						},
						"description": "Remove customization for specific field"
					}
				},
				{
					"name": "Get Coach Effective Settings",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{coach_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/whatsapp/v1/coach/settings/effective",
							"host": ["{{base_url}}"],
							"path": ["api", "whatsapp", "v1", "coach", "settings", "effective"]
						},
						"description": "Get coach's effective settings with inheritance"
					}
				},
				{
					"name": "Test Coach AI Settings",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{coach_token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"message\": \"I'm struggling with motivation to exercise\",\n  \"context\": \"Client needs encouragement\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/whatsapp/v1/coach/settings/test-ai",
							"host": ["{{base_url}}"],
							"path": ["api", "whatsapp", "v1", "coach", "settings", "test-ai"]
						},
						"description": "Test coach's AI settings with sample message"
					}
				},
				{
					"name": "Get Coach Analytics",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{coach_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/whatsapp/v1/coach/settings/analytics?period=30d",
							"host": ["{{base_url}}"],
							"path": ["api", "whatsapp", "v1", "coach", "settings", "analytics"],
							"query": [
								{"key": "period", "value": "30d"}
							]
						},
						"description": "Get coach's WhatsApp analytics"
					}
				},
				{
					"name": "Reset Coach Settings",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{coach_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/whatsapp/v1/coach/settings/reset",
							"host": ["{{base_url}}"],
							"path": ["api", "whatsapp", "v1", "coach", "settings", "reset"]
						},
						"description": "Reset coach settings to inherit from parent"
					}
				},
				{
					"name": "Clone Coach Settings",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{coach_token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"sourceCoachId\": \"coach_id_to_clone_from\",\n  \"fieldsToClone\": [\"autoReply\", \"messageTemplates\"],\n  \"overrideExisting\": true\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/whatsapp/v1/coach/settings/clone",
							"host": ["{{base_url}}"],
							"path": ["api", "whatsapp", "v1", "coach", "settings", "clone"]
						},
						"description": "Clone settings from another coach"
					}
				}
			]
		},
		{
			"name": "🔧 Admin Settings",
			"description": "Admin endpoints for managing global WhatsApp settings",
			"item": [
				{
					"name": "Get All Admin Settings",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/whatsapp/v1/admin/settings?page=1&limit=20",
							"host": ["{{base_url}}"],
							"path": ["api", "whatsapp", "v1", "admin", "settings"],
							"query": [
								{"key": "page", "value": "1"},
								{"key": "limit", "value": "20"}
							]
						},
						"description": "Get all admin WhatsApp settings"
					}
				},
				{
					"name": "Get Default Admin Settings",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/whatsapp/v1/admin/settings/default",
							"host": ["{{base_url}}"],
							"path": ["api", "whatsapp", "v1", "admin", "settings", "default"]
						},
						"description": "Get default admin WhatsApp settings"
					}
				},
				{
					"name": "Create Admin Settings",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Global WhatsApp Settings\",\n  \"description\": \"Default settings for all coaches\",\n  \"settings\": {\n    \"autoReply\": {\n      \"enabled\": true,\n      \"message\": \"Thank you for contacting us! We'll respond shortly.\",\n      \"workingHours\": {\n        \"start\": \"09:00\",\n        \"end\": \"18:00\",\n        \"timezone\": \"Asia/Kolkata\"\n      }\n    },\n    \"messageTemplates\": {\n      \"welcome\": \"Welcome to our fitness program!\",\n      \"followUp\": \"How can we help you today?\"\n    },\n    \"aiSettings\": {\n      \"enabled\": true,\n      \"personality\": \"professional and helpful\",\n      \"responseLength\": \"medium\",\n      \"temperature\": 0.7\n    }\n  },\n  \"isDefault\": true,\n  \"isActive\": true\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/whatsapp/v1/admin/settings",
							"host": ["{{base_url}}"],
							"path": ["api", "whatsapp", "v1", "admin", "settings"]
						},
						"description": "Create new admin WhatsApp settings"
					}
				},
				{
					"name": "Update Admin Settings",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Updated Global Settings\",\n  \"settings\": {\n    \"autoReply\": {\n      \"enabled\": true,\n      \"message\": \"Updated auto-reply message\"\n    },\n    \"aiSettings\": {\n      \"enabled\": true,\n      \"personality\": \"friendly and motivational\"\n    }\n  },\n  \"isActive\": true\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/whatsapp/v1/admin/settings/{{settings_id}}",
							"host": ["{{base_url}}"],
							"path": ["api", "whatsapp", "v1", "admin", "settings", "{{settings_id}}"]
						},
						"description": "Update admin WhatsApp settings"
					}
				},
				{
					"name": "Set Admin Settings as Default",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/whatsapp/v1/admin/settings/{{settings_id}}/set-default",
							"host": ["{{base_url}}"],
							"path": ["api", "whatsapp", "v1", "admin", "settings", "{{settings_id}}", "set-default"]
						},
						"description": "Set admin settings as default"
					}
				},
				{
					"name": "Delete Admin Settings",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/whatsapp/v1/admin/settings/{{settings_id}}",
							"host": ["{{base_url}}"],
							"path": ["api", "whatsapp", "v1", "admin", "settings", "{{settings_id}}"]
						},
						"description": "Delete admin WhatsApp settings"
					}
				},
				{
					"name": "Test Admin AI Settings",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"message\": \"Test message for AI response\",\n  \"context\": \"Testing admin AI settings\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/whatsapp/v1/admin/settings/{{settings_id}}/test-ai",
							"host": ["{{base_url}}"],
							"path": ["api", "whatsapp", "v1", "admin", "settings", "{{settings_id}}", "test-ai"]
						},
						"description": "Test admin AI settings"
					}
				},
				{
					"name": "Get Admin Analytics",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/whatsapp/v1/admin/settings/analytics?period=30d",
							"host": ["{{base_url}}"],
							"path": ["api", "whatsapp", "v1", "admin", "settings", "analytics"],
							"query": [
								{"key": "period", "value": "30d"}
							]
						},
						"description": "Get admin WhatsApp analytics"
					}
				},
				{
					"name": "Apply Settings to All Coaches",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"fieldsToApply\": [\"autoReply\", \"messageTemplates\"],\n  \"overrideExisting\": false,\n  \"notifyCoaches\": true\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/whatsapp/v1/admin/settings/{{settings_id}}/apply-to-coaches",
							"host": ["{{base_url}}"],
							"path": ["api", "whatsapp", "v1", "admin", "settings", "{{settings_id}}", "apply-to-coaches"]
						},
						"description": "Apply settings to all coaches"
					}
				},
				{
					"name": "Get Settings Usage Stats",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/whatsapp/v1/admin/settings/usage-stats",
							"host": ["{{base_url}}"],
							"path": ["api", "whatsapp", "v1", "admin", "settings", "usage-stats"]
						},
						"description": "Get settings usage statistics"
					}
				}
			]
		}
	]
}
