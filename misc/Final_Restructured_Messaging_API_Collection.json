{
	"info": {
		"_postman_id": "restructured-messaging-v1",
		"name": "Final Restructured Messaging API Collection",
		"description": "Complete API collection for the restructured messaging system with Baileys Microservice (core operations only) + RabbitMQ and Unified Controller (device management, inbox, history)",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "restructured-messaging"
	},
	"item": [
		{
			"name": "🔧 Baileys Microservice - Core Operations",
			"description": "Core WhatsApp operations handled by Baileys microservice with RabbitMQ for scalability",
			"item": [
				{
					"name": "Health Check",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baileys_microservice_url}}/health",
							"host": [
								"{{baileys_microservice_url}}"
							],
							"path": [
								"health"
							]
						},
						"description": "Check if Baileys microservice is running"
					}
				},
				{
					"name": "RabbitMQ Status",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baileys_microservice_url}}/api/baileys/rabbitmq/status",
							"host": [
								"{{baileys_microservice_url}}"
							],
							"path": [
								"api",
								"baileys",
								"rabbitmq",
								"status"
							]
						},
						"description": "Check RabbitMQ connection status"
					}
				},
				{
					"name": "1. Initialize WhatsApp Session",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"coachId\": \"{{coach_id}}\"\n}"
						},
						"url": {
							"raw": "{{baileys_microservice_url}}/api/baileys/initialize/{{device_id}}",
							"host": [
								"{{baileys_microservice_url}}"
							],
							"path": [
								"api",
								"baileys",
								"initialize",
								"{{device_id}}"
							]
						},
						"description": "Initialize WhatsApp session for a device"
					}
				},
				{
					"name": "2. Get WhatsApp Session Status",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baileys_microservice_url}}/api/baileys/status/{{device_id}}",
							"host": [
								"{{baileys_microservice_url}}"
							],
							"path": [
								"api",
								"baileys",
								"status",
								"{{device_id}}"
							]
						},
						"description": "Get WhatsApp session status"
					}
				},
				{
					"name": "3. Get QR Code",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baileys_microservice_url}}/api/baileys/qr/{{device_id}}",
							"host": [
								"{{baileys_microservice_url}}"
							],
							"path": [
								"api",
								"baileys",
								"qr",
								"{{device_id}}"
							]
						},
						"description": "Get QR code for WhatsApp setup"
					}
				},
				{
					"name": "4. Establish Full Session",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{}"
						},
						"url": {
							"raw": "{{baileys_microservice_url}}/api/baileys/establish-session/{{device_id}}",
							"host": [
								"{{baileys_microservice_url}}"
							],
							"path": [
								"api",
								"baileys",
								"establish-session",
								"{{device_id}}"
							]
						},
						"description": "Force QR generation to establish full session"
					}
				},
				{
					"name": "5. Send Message",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"to\": \"{{recipient_phone}}\",\n    \"message\": \"Hello from Baileys Microservice!\",\n    \"type\": \"text\"\n}"
						},
						"url": {
							"raw": "{{baileys_microservice_url}}/api/baileys/send/{{device_id}}",
							"host": [
								"{{baileys_microservice_url}}"
							],
							"path": [
								"api",
								"baileys",
								"send",
								"{{device_id}}"
							]
						},
						"description": "Send a message via WhatsApp"
					}
				},
				{
					"name": "Batch Send Messages",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"messages\": [\n        {\n            \"deviceId\": \"{{device_id}}\",\n            \"to\": \"{{recipient_phone}}\",\n            \"message\": \"Batch message 1\",\n            \"type\": \"text\"\n        },\n        {\n            \"deviceId\": \"{{device_id}}\",\n            \"to\": \"{{recipient_phone_2}}\",\n            \"message\": \"Batch message 2\",\n            \"type\": \"text\"\n        }\n    ]\n}"
						},
						"url": {
							"raw": "{{baileys_microservice_url}}/api/baileys/send-batch",
							"host": [
								"{{baileys_microservice_url}}"
							],
							"path": [
								"api",
								"baileys",
								"send-batch"
							]
						},
						"description": "Send multiple messages in batch for high volume"
					}
				},
				{
					"name": "Disconnect Device",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{}"
						},
						"url": {
							"raw": "{{baileys_microservice_url}}/api/baileys/disconnect/{{device_id}}",
							"host": [
								"{{baileys_microservice_url}}"
							],
							"path": [
								"api",
								"baileys",
								"disconnect",
								"{{device_id}}"
							]
						},
						"description": "Disconnect WhatsApp device"
					}
				}
			]
		},
		{
			"name": "📱 Unified Controller - Device Management",
			"description": "Device creation, management, switching handled by unified controller",
			"item": [
				{
					"name": "Create WhatsApp Device",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"deviceName\": \"My WhatsApp Device\",\n    \"deviceType\": \"baileys\",\n    \"phoneNumber\": \"+1234567890\",\n    \"description\": \"Primary WhatsApp device for coaching\"\n}"
						},
						"url": {
							"raw": "{{main_api_url}}/api/messagingv1/devices",
							"host": [
								"{{main_api_url}}"
							],
							"path": [
								"api",
								"messagingv1",
								"devices"
							]
						},
						"description": "Create a new WhatsApp device"
					}
				},
				{
					"name": "Get Coach WhatsApp Devices",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							}
						],
						"url": {
							"raw": "{{main_api_url}}/api/messagingv1/devices",
							"host": [
								"{{main_api_url}}"
							],
							"path": [
								"api",
								"messagingv1",
								"devices"
							]
						},
						"description": "Get all WhatsApp devices for coach"
					}
				},
				{
					"name": "Update WhatsApp Device",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"deviceName\": \"Updated Device Name\",\n    \"description\": \"Updated description\",\n    \"isDefault\": true,\n    \"isActive\": true\n}"
						},
						"url": {
							"raw": "{{main_api_url}}/api/messagingv1/devices/{{device_id}}",
							"host": [
								"{{main_api_url}}"
							],
							"path": [
								"api",
								"messagingv1",
								"devices",
								"{{device_id}}"
							]
						},
						"description": "Update WhatsApp device settings"
					}
				},
				{
					"name": "Delete WhatsApp Device",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							}
						],
						"url": {
							"raw": "{{main_api_url}}/api/messagingv1/devices/{{device_id}}",
							"host": [
								"{{main_api_url}}"
							],
							"path": [
								"api",
								"messagingv1",
								"devices",
								"{{device_id}}"
							]
						},
						"description": "Delete WhatsApp device"
					}
				},
				{
					"name": "Get Device Status",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							}
						],
						"url": {
							"raw": "{{main_api_url}}/api/messagingv1/devices/{{device_id}}/status",
							"host": [
								"{{main_api_url}}"
							],
							"path": [
								"api",
								"messagingv1",
								"devices",
								"{{device_id}}",
								"status"
							]
						},
						"description": "Get device connection status"
					}
				},
				{
					"name": "Switch WhatsApp Device",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{}"
						},
						"url": {
							"raw": "{{main_api_url}}/api/messagingv1/devices/{{device_id}}/switch",
							"host": [
								"{{main_api_url}}"
							],
							"path": [
								"api",
								"messagingv1",
								"devices",
								"{{device_id}}",
								"switch"
							]
						},
						"description": "Set device as default WhatsApp device"
					}
				}
			]
		},
		{
			"name": "📬 Unified Controller - Inbox & Message History",
			"description": "Inbox, message history, and conversation management",
			"item": [
				{
					"name": "Get Inbox Messages",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							}
						],
						"url": {
							"raw": "{{main_api_url}}/api/messagingv1/inbox?page=1&limit=20&unreadOnly=false",
							"host": [
								"{{main_api_url}}"
							],
							"path": [
								"api",
								"messagingv1",
								"inbox"
							],
							"query": [
								{
									"key": "page",
									"value": "1"
								},
								{
									"key": "limit",
									"value": "20"
								},
								{
									"key": "unreadOnly",
									"value": "false"
								},
								{
									"key": "contact",
									"value": "",
									"disabled": true
								},
								{
									"key": "deviceId",
									"value": "",
									"disabled": true
								},
								{
									"key": "status",
									"value": "all",
									"disabled": true
								},
								{
									"key": "dateFrom",
									"value": "",
									"disabled": true
								},
								{
									"key": "dateTo",
									"value": "",
									"disabled": true
								}
							]
						},
						"description": "Get inbox messages with advanced filtering"
					}
				},
				{
					"name": "Get Message History",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							}
						],
						"url": {
							"raw": "{{main_api_url}}/api/messagingv1/messages/{{contact_phone}}?page=1&limit=50",
							"host": [
								"{{main_api_url}}"
							],
							"path": [
								"api",
								"messagingv1",
								"messages",
								"{{contact_phone}}"
							],
							"query": [
								{
									"key": "page",
									"value": "1"
								},
								{
									"key": "limit",
									"value": "50"
								},
								{
									"key": "deviceId",
									"value": "",
									"disabled": true
								}
							]
						},
						"description": "Get message history for a specific contact"
					}
				},
				{
					"name": "Mark Messages as Read",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"contact\": \"{{contact_phone}}\"\n}"
						},
						"url": {
							"raw": "{{main_api_url}}/api/messagingv1/messages/mark-read",
							"host": [
								"{{main_api_url}}"
							],
							"path": [
								"api",
								"messagingv1",
								"messages",
								"mark-read"
							]
						},
						"description": "Mark messages as read for a contact"
					}
				},
				{
					"name": "Mark Specific Messages as Read",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"messageIds\": [\"{{message_id_1}}\", \"{{message_id_2}}\"]\n}"
						},
						"url": {
							"raw": "{{main_api_url}}/api/messagingv1/messages/mark-read",
							"host": [
								"{{main_api_url}}"
							],
							"path": [
								"api",
								"messagingv1",
								"messages",
								"mark-read"
							]
						},
						"description": "Mark specific messages as read by IDs"
					}
				}
			]
		},
		{
			"name": "💬 Unified Controller - Messaging",
			"description": "Unified messaging endpoints that handle both Baileys and Meta WhatsApp",
			"item": [
				{
					"name": "Send Message",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"to\": \"{{recipient_phone}}\",\n    \"message\": \"Hello from Unified Messaging!\",\n    \"type\": \"text\",\n    \"deviceId\": \"{{device_id}}\",\n    \"templateId\": \"\",\n    \"mediaUrl\": \"\",\n    \"caption\": \"\"\n}"
						},
						"url": {
							"raw": "{{main_api_url}}/api/messagingv1/send",
							"host": [
								"{{main_api_url}}"
							],
							"path": [
								"api",
								"messagingv1",
								"send"
							]
						},
						"description": "Send message via unified endpoint (handles both Baileys and Meta)"
					}
				},
				{
					"name": "Send Template Message",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"to\": \"{{recipient_phone}}\",\n    \"templateId\": \"{{template_id}}\",\n    \"templateParams\": {\n        \"name\": \"John\",\n        \"company\": \"Example Corp\"\n    },\n    \"deviceId\": \"{{device_id}}\"\n}"
						},
						"url": {
							"raw": "{{main_api_url}}/api/messagingv1/send",
							"host": [
								"{{main_api_url}}"
							],
							"path": [
								"api",
								"messagingv1",
								"send"
							]
						},
						"description": "Send template message with parameters"
					}
				},
				{
					"name": "Send Media Message",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"to\": \"{{recipient_phone}}\",\n    \"type\": \"image\",\n    \"mediaUrl\": \"https://example.com/image.jpg\",\n    \"caption\": \"Check out this image!\",\n    \"deviceId\": \"{{device_id}}\"\n}"
						},
						"url": {
							"raw": "{{main_api_url}}/api/messagingv1/send",
							"host": [
								"{{main_api_url}}"
							],
							"path": [
								"api",
								"messagingv1",
								"send"
							]
						},
						"description": "Send media message (image, document, etc.)"
					}
				}
			]
		},
		{
			"name": "📋 Unified Controller - Templates",
			"description": "Message template management",
			"item": [
				{
					"name": "Get Message Templates",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							}
						],
						"url": {
							"raw": "{{main_api_url}}/api/messagingv1/templates",
							"host": [
								"{{main_api_url}}"
							],
							"path": [
								"api",
								"messagingv1",
								"templates"
							],
							"query": [
								{
									"key": "category",
									"value": "",
									"disabled": true
								},
								{
									"key": "status",
									"value": "",
									"disabled": true
								}
							]
						},
						"description": "Get message templates"
					}
				},
				{
					"name": "Create Message Template",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"Welcome Template\",\n    \"content\": \"Hello {name}, welcome to {company}!\",\n    \"category\": \"greeting\",\n    \"language\": \"en_US\",\n    \"variables\": [\n        {\n            \"name\": \"name\",\n            \"defaultValue\": \"Customer\"\n        },\n        {\n            \"name\": \"company\",\n            \"defaultValue\": \"Our Company\"\n        }\n    ]\n}"
						},
						"url": {
							"raw": "{{main_api_url}}/api/messagingv1/templates",
							"host": [
								"{{main_api_url}}"
							],
							"path": [
								"api",
								"messagingv1",
								"templates"
							]
						},
						"description": "Create a new message template"
					}
				},
				{
					"name": "Update Message Template",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"Updated Welcome Template\",\n    \"content\": \"Hi {name}, welcome to {company}! We're excited to have you.\",\n    \"category\": \"greeting\",\n    \"language\": \"en_US\",\n    \"variables\": [\n        {\n            \"name\": \"name\",\n            \"defaultValue\": \"Customer\"\n        },\n        {\n            \"name\": \"company\",\n            \"defaultValue\": \"Our Company\"\n        }\n    ]\n}"
						},
						"url": {
							"raw": "{{main_api_url}}/api/messagingv1/templates/{{template_id}}",
							"host": [
								"{{main_api_url}}"
							],
							"path": [
								"api",
								"messagingv1",
								"templates",
								"{{template_id}}"
							]
						},
						"description": "Update an existing message template"
					}
				},
				{
					"name": "Delete Message Template",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							}
						],
						"url": {
							"raw": "{{main_api_url}}/api/messagingv1/templates/{{template_id}}",
							"host": [
								"{{main_api_url}}"
							],
							"path": [
								"api",
								"messagingv1",
								"templates",
								"{{template_id}}"
							]
						},
						"description": "Delete a message template"
					}
				}
			]
		},
		{
			"name": "📊 Unified Controller - Statistics & Contacts",
			"description": "Messaging statistics and contact management",
			"item": [
				{
					"name": "Get Messaging Statistics",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							}
						],
						"url": {
							"raw": "{{main_api_url}}/api/messagingv1/stats?period=30d",
							"host": [
								"{{main_api_url}}"
							],
							"path": [
								"api",
								"messagingv1",
								"stats"
							],
							"query": [
								{
									"key": "period",
									"value": "30d",
									"description": "7d, 30d, or 90d"
								}
							]
						},
						"description": "Get messaging statistics"
					}
				},
				{
					"name": "Get Contacts",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							}
						],
						"url": {
							"raw": "{{main_api_url}}/api/messagingv1/contacts?page=1&limit=50",
							"host": [
								"{{main_api_url}}"
							],
							"path": [
								"api",
								"messagingv1",
								"contacts"
							],
							"query": [
								{
									"key": "page",
									"value": "1"
								},
								{
									"key": "limit",
									"value": "50"
								},
								{
									"key": "search",
									"value": "",
									"disabled": true
								}
							]
						},
						"description": "Get contacts list"
					}
				},
				{
					"name": "Get Staff Devices",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							}
						],
						"url": {
							"raw": "{{main_api_url}}/api/messagingv1/staff/devices",
							"host": [
								"{{main_api_url}}"
							],
							"path": [
								"api",
								"messagingv1",
								"staff",
								"devices"
							]
						},
						"description": "Get staff WhatsApp devices under coach"
					}
				}
			]
		},
		{
			"name": "⚙️ Unified Controller - Settings",
			"description": "Coach WhatsApp settings management",
			"item": [
				{
					"name": "Get Coach WhatsApp Settings",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							}
						],
						"url": {
							"raw": "{{main_api_url}}/api/messagingv1/settings",
							"host": [
								"{{main_api_url}}"
							],
							"path": [
								"api",
								"messagingv1",
								"settings"
							]
						},
						"description": "Get coach WhatsApp settings"
					}
				},
				{
					"name": "Set Coach WhatsApp Settings",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"useCentralWhatsApp\": false,\n    \"baileysSettings\": {\n        \"deviceName\": \"My Personal WhatsApp\",\n        \"phoneNumber\": \"+1234567890\"\n    },\n    \"emailSettings\": {\n        \"notifications\": true,\n        \"email\": \"coach@example.com\"\n    },\n    \"autoReplySettings\": {\n        \"enabled\": true,\n        \"message\": \"Thank you for your message. I'll get back to you soon!\"\n    }\n}"
						},
						"url": {
							"raw": "{{main_api_url}}/api/messagingv1/settings",
							"host": [
								"{{main_api_url}}"
							],
							"path": [
								"api",
								"messagingv1",
								"settings"
							]
						},
						"description": "Set coach WhatsApp settings"
					}
				}
			]
		},
		{
			"name": "🔗 Baileys Integration - QR & Connection",
			"description": "Baileys-specific operations handled by unified controller",
			"item": [
				{
					"name": "Get Baileys QR Code",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{main_api_url}}/api/messagingv1/baileys/qr/{{device_id}}",
							"host": [
								"{{main_api_url}}"
							],
							"path": [
								"api",
								"messagingv1",
								"baileys",
								"qr",
								"{{device_id}}"
							]
						},
						"description": "Get QR code for Baileys WhatsApp setup (public endpoint)"
					}
				},
				{
					"name": "Initialize Baileys Connection",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{}"
						},
						"url": {
							"raw": "{{main_api_url}}/api/messagingv1/baileys/connect/{{device_id}}",
							"host": [
								"{{main_api_url}}"
							],
							"path": [
								"api",
								"messagingv1",
								"baileys",
								"connect",
								"{{device_id}}"
							]
						},
						"description": "Initialize Baileys connection"
					}
				},
				{
					"name": "Get Baileys Status",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							}
						],
						"url": {
							"raw": "{{main_api_url}}/api/messagingv1/baileys/status/{{device_id}}",
							"host": [
								"{{main_api_url}}"
							],
							"path": [
								"api",
								"messagingv1",
								"baileys",
								"status",
								"{{device_id}}"
							]
						},
						"description": "Get Baileys connection status"
					}
				},
				{
					"name": "Force QR Generation",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{}"
						},
						"url": {
							"raw": "{{main_api_url}}/api/messagingv1/baileys/force-qr/{{device_id}}",
							"host": [
								"{{main_api_url}}"
							],
							"path": [
								"api",
								"messagingv1",
								"baileys",
								"force-qr",
								"{{device_id}}"
							]
						},
						"description": "Force QR code generation"
					}
				},
				{
					"name": "Disconnect Baileys",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							}
						],
						"url": {
							"raw": "{{main_api_url}}/api/messagingv1/baileys/disconnect/{{device_id}}",
							"host": [
								"{{main_api_url}}"
							],
							"path": [
								"api",
								"messagingv1",
								"baileys",
								"disconnect",
								"{{device_id}}"
							]
						},
						"description": "Disconnect Baileys WhatsApp"
					}
				}
			]
		},
		{
			"name": "🔍 Debug & Testing",
			"description": "Debug endpoints for testing and troubleshooting",
			"item": [
				{
					"name": "Debug QR Setup",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{main_api_url}}/api/messagingv1/debug/qr-setup/{{device_id}}",
							"host": [
								"{{main_api_url}}"
							],
							"path": [
								"api",
								"messagingv1",
								"debug",
								"qr-setup",
								"{{device_id}}"
							]
						},
						"description": "Debug endpoint to test QR setup page"
					}
				}
			]
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"key": "main_api_url",
			"value": "http://localhost:3000",
			"description": "Main API server URL"
		},
		{
			"key": "baileys_microservice_url",
			"value": "http://localhost:4444",
			"description": "Baileys microservice URL"
		},
		{
			"key": "auth_token",
			"value": "",
			"description": "JWT authentication token"
		},
		{
			"key": "coach_id",
			"value": "",
			"description": "Coach ID"
		},
		{
			"key": "device_id",
			"value": "",
			"description": "WhatsApp device ID"
		},
		{
			"key": "recipient_phone",
			"value": "+1234567890",
			"description": "Recipient phone number"
		},
		{
			"key": "recipient_phone_2",
			"value": "+0987654321",
			"description": "Second recipient phone number for batch testing"
		},
		{
			"key": "contact_phone",
			"value": "+1234567890",
			"description": "Contact phone number for message history"
		},
		{
			"key": "template_id",
			"value": "",
			"description": "Message template ID"
		},
		{
			"key": "message_id_1",
			"value": "",
			"description": "First message ID for testing"
		},
		{
			"key": "message_id_2",
			"value": "",
			"description": "Second message ID for testing"
		}
	]
}
