\documentclass[12pt,a4paper]{article}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{geometry}
\usepackage{graphicx}
\usepackage{hyperref}
\usepackage{listings}
\usepackage{xcolor}
\usepackage{enumitem}
\usepackage{titlesec}

\geometry{margin=1in}
\hypersetup{colorlinks=true, linkcolor=blue}

\title{\Huge\textbf{AI Ads Agent \& Workflow Management\\Complete Implementation Guide}}
\author{Coach Dashboard Features Documentation}
\date{\today}

\begin{document}
\maketitle

\section{What These Features Do - Simple Explanation}

\subsection{ü§ñ AI Ads Agent - Your Smart Marketing Assistant}
Think of the AI Ads Agent as your personal marketing expert who never sleeps. It helps you create better ads, spend your money wisely, and catch problems before they hurt your business.

\textbf{In Simple Terms:}
\begin{itemize}
    \item \textbf{Ad Copy Generator:} Like having a copywriter who knows exactly what words will make people click
    \item \textbf{Budget Optimizer:} Automatically moves your money to the ads that are working best
    \item \textbf{Problem Detector:} Alerts you when something goes wrong with your ads
    \item \textbf{Targeting Expert:} Suggests the best people to show your ads to
    \item \textbf{Campaign Doctor:} Automatically fixes underperforming ads
\end{itemize}

\subsection{üìã Workflow \& Task Management - Your Business Organizer}
Think of this as your digital office manager who keeps track of everything, assigns work to the right people, and makes sure nothing falls through the cracks.

\textbf{In Simple Terms:}
\begin{itemize}
    \item \textbf{Kanban Board:} A visual board showing all your tasks moving through different stages
    \item \textbf{Smart Task Assignment:} Automatically gives work to the right person based on their skills and workload
    \item \textbf{AI SOP Generator:} Creates step-by-step guides for common tasks
    \item \textbf{Time Tracker:} Records how long tasks take to help you plan better
    \item \textbf{Automated Workflows:} Creates follow-up tasks automatically when leads move through your pipeline
\end{itemize}

\section{ü§ñ AI Ads Agent - Complete Feature Breakdown}

\subsection{1. AI-Powered Ad Copy Generation}

\subsubsection{How Coaches Use It}
\begin{enumerate}
    \item Enter target audience (e.g., "Women 25-40 interested in fitness")
    \item Describe product/service (e.g., "12-week weight loss program")
    \item Select campaign objective (e.g., "Lead Generation")
    \item AI generates multiple ad variations instantly
    \item Coach selects best options and launches campaigns
\end{enumerate}

\subsubsection{Technical Implementation}
\begin{lstlisting}[language=JavaScript]
// services/aiAdsAgentService.js
async generateAdCopy(coachId, targetAudience, productInfo, campaignObjective) {
    const prompt = `Create compelling ad copy for:
    Target: ${targetAudience}
    Product: ${productInfo}
    Objective: ${campaignObjective}`;
    
    const completion = await openai.chat.completions.create({
        model: "gpt-4",
        messages: [{ role: "user", content: prompt }],
        temperature: 0.7
    });
    
    return this.parseGeneratedContent(completion.choices[0].message.content);
}
\end{lstlisting}

\subsection{2. Intelligent Budget Allocation}

\subsubsection{How Coaches Use It}
\begin{enumerate}
    \item AI analyzes current ad performance automatically
    \item Identifies best and worst performing ad sets
    \item Suggests budget reallocation to maximize ROI
    \item Coach approves recommendations with one click
    \item System automatically adjusts budgets across platforms
\end{enumerate}

\subsubsection{Performance Metrics Analyzed}
\begin{itemize}
    \item Click-Through Rate (CTR): How often people click ads
    \item Cost Per Click (CPC): Cost for each click
    \item Return on Ad Spend (ROAS): Revenue per dollar spent
    \item Conversion Rate: Clicks that turn into customers
\end{itemize}

\subsection{3. Anomaly Detection System}

\subsubsection{How Coaches Use It}
\begin{enumerate}
    \item System monitors ad performance 24/7
    \item Sends instant alerts when problems detected
    \item Provides specific recommendations for fixes
    \item Prevents costly mistakes before they happen
\end{enumerate}

\subsubsection{Types of Anomalies Detected}
\begin{itemize}
    \item Performance Drops: Sudden decrease in clicks/conversions
    \item Cost Spikes: Unexpected increase in advertising costs
    \item Engagement Changes: Unusual user interaction patterns
    \item Competitive Activity: Market condition changes
\end{itemize}

\subsection{4. Targeting Recommendations}

\subsubsection{How Coaches Use It}
\begin{enumerate}
    \item AI analyzes current audience performance
    \item Suggests new targeting options to test
    \item Recommends lookalike audiences from best customers
    \item Provides demographic and interest expansion ideas
\end{enumerate}

\subsection{5. Auto-Campaign Optimization}

\subsubsection{How Coaches Use It}
\begin{enumerate}
    \item AI makes small adjustments automatically
    \item Increases bids for high-performing ads
    \item Pauses underperforming ad sets
    \item Refreshes ad creative when needed
    \item Optimizes budget distribution continuously
\end{enumerate}

\section{üìã Workflow \& Task Management - Complete Feature Breakdown}

\subsection{1. Kanban-Style Workflow Board}

\subsubsection{How Coaches Use It}
\begin{enumerate}
    \item Visual board shows all tasks by stage
    \item Drag-and-drop tasks between stages
    \item See bottlenecks and priorities at a glance
    \item Track individual deal progress
    \item Identify where tasks get stuck
\end{enumerate}

\subsubsection{Workflow Stages}
\begin{itemize}
    \item Lead Generation: Finding new potential clients
    \item Lead Qualification: Determining if leads are good fits
    \item Proposal: Creating and sending proposals
    \item Closing: Finalizing deals and contracts
    \item Onboarding: Getting new clients started
\end{itemize}

\subsection{2. Intelligent Task Assignment}

\subsubsection{How Coaches Use It}
\begin{enumerate}
    \item System automatically assigns tasks to best person
    \item Considers skills, workload, and performance history
    \item Balances work across team members
    \item Ensures tasks go to qualified staff
\end{enumerate}

\subsubsection{Assignment Factors}
\begin{itemize}
    \item Skills Match: Does person have required skills?
    \item Workload Balance: How many tasks do they have?
    \item Performance History: How well do they handle similar tasks?
    \item Availability: Are they available for new work?
\end{itemize}

\subsection{3. AI SOP Generation}

\subsubsection{How Coaches Use It}
\begin{enumerate}
    \item Request SOP for any task type
    \item AI creates step-by-step guides instantly
    \item Ensures consistent process execution
    \item Trains new staff members effectively
\end{enumerate}

\subsubsection{SOP Types Generated}
\begin{itemize}
    \item Lead Qualification SOP: How to evaluate leads
    \item Proposal Creation SOP: Steps for compelling proposals
    \item Client Onboarding SOP: New client welcome process
    \item Follow-up SOP: Maintaining client relationships
\end{itemize}

\subsection{4. Task Dependencies and Subtasks}

\subsubsection{How Coaches Use It}
\begin{enumerate}
    \item Break large tasks into smaller subtasks
    \item Set dependencies between related tasks
    \item Track progress on complex projects
    \item Ensure proper task sequencing
\end{enumerate}

\subsection{5. Time Tracking and Analytics}

\subsubsection{How Coaches Use It}
\begin{enumerate}
    \item Track time spent on each task
    \item Analyze staff productivity
    \item Identify process bottlenecks
    \item Plan resource allocation better
\end{enumerate}

\subsection{6. Automated Workflow Triggers}

\subsubsection{How Coaches Use It}
\begin{enumerate}
    \item System creates follow-up tasks automatically
    \item Sends reminders at appropriate times
    \item Ensures nothing falls through cracks
    \item Maintains consistent follow-up processes
\end{enumerate}

\section{API Endpoints - Complete Reference}

\subsection{ü§ñ AI Ads Agent Endpoints}

\begin{lstlisting}[caption=Generate AI Ad Copy]
POST /api/ai-ads/generate-copy
{
    "targetAudience": "Women 25-40 interested in fitness",
    "productInfo": "12-week weight loss program",
    "campaignObjective": "LEAD_GENERATION"
}
\end{lstlisting}

\begin{lstlisting}[caption=Optimize Campaign Budget]
POST /api/ai-ads/optimize-budget/:campaignId
{
    "optimizationType": "performance_based",
    "constraints": {
        "maxBudgetChange": 0.3,
        "minBudgetPerAdSet": 10
    }
}
\end{lstlisting}

\begin{lstlisting}[caption=Detect Performance Anomalies]
GET /api/ai-ads/detect-anomalies/:campaignId
Query Parameters: timeRange, severity
\end{lstlisting}

\subsection{üìã Workflow \& Task Management Endpoints}

\begin{lstlisting}[caption=Get Kanban Board Data]
GET /api/workflow/kanban-board
Query Parameters: coachId, includeArchived
\end{lstlisting}

\begin{lstlisting}[caption=Create New Task]
POST /api/workflow/tasks
{
    "name": "Qualify Lead - John Smith",
    "priority": "HIGH",
    "stage": "LEAD_QUALIFICATION",
    "dueDate": "2024-01-15T10:00:00Z",
    "relatedLead": "lead_id_here"
}
\end{lstlisting}

\begin{lstlisting}[caption=Move Task Between Stages]
PUT /api/workflow/tasks/:taskId/move
{
    "newStage": "PROPOSAL",
    "reason": "Lead qualified successfully"
}
\end{lstlisting}

\section{How Coaches Will Use These Features Daily}

\subsection{ü§ñ Daily AI Ads Agent Workflow}

\subsubsection{Morning Routine (15 minutes)}
\begin{enumerate}
    \item Check AI insights and anomaly alerts (5 min)
    \item Review budget optimization recommendations (5 min)
    \item Act on critical recommendations (5 min)
\end{enumerate}

\subsubsection{Weekly Deep Dive (1 hour)}
\begin{enumerate}
    \item Generate new ad copy variations (20 min)
    \item Review and implement AI recommendations (40 min)
\end{enumerate}

\subsection{üìã Daily Workflow Management Routine}

\subsubsection{Start of Day (20 minutes)}
\begin{enumerate}
    \item Review Kanban board and identify priorities (10 min)
    \item Handle new leads and assign tasks (10 min)
\end{enumerate}

\subsubsection{Throughout the Day}
\begin{enumerate}
    \item Monitor task progress and move items between stages
    \item Respond to automated alerts and reminders
    \item Handle any blockers or issues that arise
\end{enumerate}

\subsubsection{End of Day Review (15 minutes)}
\begin{enumerate}
    \item Update task status and mark completed items
    \item Review daily productivity metrics
    \item Plan next day's priorities
\end{enumerate}

\section{Benefits and Impact for Coaches}

\subsection{ü§ñ AI Ads Agent Benefits}

\subsubsection{Time Savings}
\begin{itemize}
    \item Ad Creation: 80\% reduction in time spent writing copy
    \item Budget Management: Automated optimization saves 2-3 hours/week
    \item Performance Monitoring: Real-time alerts prevent costly mistakes
    \item Targeting Optimization: AI suggestions reduce testing time by 60\%
\end{itemize}

\subsubsection{Performance Improvements}
\begin{itemize}
    \item Click-Through Rates: 25-40\% improvement with AI-generated copy
    \item Cost Per Lead: 15-30\% reduction through intelligent optimization
    \item Return on Ad Spend: 20-35\% increase with automated budget allocation
    \item Campaign Efficiency: 50\% faster campaign setup and optimization
\end{itemize}

\subsection{üìã Workflow Management Benefits}

\subsubsection{Operational Efficiency}
\begin{itemize}
    \item Task Visibility: 100\% transparency into all ongoing work
    \item Automated Assignment: Eliminates manual task distribution
    \item Process Standardization: Consistent execution through SOPs
    \item Bottleneck Identification: Quickly spot and resolve workflow issues
\end{itemize}

\subsubsection{Team Productivity}
\begin{itemize}
    \item Workload Balance: Even distribution of tasks across team members
    \item Skill Utilization: Tasks assigned based on individual strengths
    \item Time Tracking: Accurate measurement of task completion times
    \item Performance Analytics: Data-driven insights for improvement
\end{itemize}

\subsection{üìä Combined Business Impact}

\subsubsection{Business Growth}
\begin{itemize}
    \item Lead Generation: 40-60\% increase in qualified leads
    \item Conversion Rates: 25-35\% improvement in lead-to-client conversion
    \item Revenue Growth: 30-50\% increase in monthly recurring revenue
    \item Client Retention: 20-30\% improvement in client satisfaction
\end{itemize}

\subsubsection{Operational Excellence}
\begin{itemize}
    \item Reduced Manual Work: 70\% reduction in administrative tasks
    \item Improved Accuracy: 90\% reduction in human errors
    \item Faster Decision Making: Real-time data and AI insights
    \item Scalable Processes: Systems grow with your business
\end{itemize}

\section{Technical Implementation Summary}

\subsection{New Files Created}
\begin{itemize}
    \item \textbf{services/aiAdsAgentService.js}: AI-powered advertising automation
    \item \textbf{services/workflowTaskService.js}: Workflow and task management
    \item \textbf{services/staffLeaderboardService.js}: Staff scoring and leaderboard system
    \item \textbf{services/coachDashboardService.js}: Comprehensive dashboard analytics
    \item \textbf{controllers/aiAdsController.js}: AI ads API endpoints
    \item \textbf{controllers/workflowTaskController.js}: Workflow API endpoints
    \item \textbf{controllers/staffLeaderboardController.js}: Staff leaderboard API endpoints
    \item \textbf{controllers/coachDashboardController.js}: Dashboard API endpoints
    \item \textbf{routes/aiAdsRoutes.js}: AI ads route definitions
    \item \textbf{routes/workflowRoutes.js}: Workflow route definitions
    \item \textbf{routes/staffLeaderboardRoutes.js}: Staff leaderboard route definitions
    \item \textbf{routes/coachDashboardRoutes.js}: Dashboard route definitions
\end{itemize}

\subsection{Enhanced Files}
\begin{itemize}
    \item \textbf{schema/Task.js}: Extended with workflow fields and methods
    \item \textbf{controllers/adsController.js}: Integrated with AI features
    \item \textbf{main.js}: Added new routes and updated documentation
\end{itemize}

\subsection{Key Technologies Used}
\begin{itemize}
    \item OpenAI GPT-4 for AI content generation and analysis
    \item RabbitMQ for asynchronous event processing
    \item MongoDB/Mongoose for data persistence
    \item Express.js for API endpoints
    \item JWT for authentication and authorization
\end{itemize}

\section{üèÜ Staff Leaderboard \& Scoring System}

\subsection{What It Does - Simple Explanation}
Think of the Staff Leaderboard as a gamified performance tracking system that motivates your team, recognizes achievements, and helps you identify top performers and areas for improvement.

\textbf{In Simple Terms:}
\begin{itemize}
    \item \textbf{Performance Scoring:} Automatically calculates scores based on task completion, quality, efficiency, and leadership
    \item \textbf{Achievement System:} Awards badges and recognition for outstanding performance
    \item \textbf{Team Rankings:} Shows who's performing best and who needs support
    \item \textbf{Progress Tracking:} Monitors improvement over time
    \item \textbf{Analytics:} Provides insights into team performance patterns
\end{itemize}

\subsection{How Coaches Use It}
\begin{enumerate}
    \item \textbf{Daily Monitoring:} Check leaderboard to see top performers and identify issues
    \item \textbf{Performance Reviews:} Use detailed scores for staff evaluations
    \item \textbf{Recognition:} Celebrate achievements and motivate team members
    \item \textbf{Training Planning:} Identify who needs additional support or training
    \item \textbf{Goal Setting:} Set performance targets and track progress
\end{enumerate}

\subsection{Scoring System}
The system calculates scores based on:
\begin{itemize}
    \item \textbf{Task Completion (35\%):} How many tasks are completed on time
    \item \textbf{Quality Rating (25\%):} Client satisfaction and work quality
    \item \textbf{Efficiency (20\%):} How quickly tasks are completed vs. estimates
    \item \textbf{Leadership (15\%):} Helping other team members and mentoring
    \item \textbf{Innovation (5\%):} Suggesting process improvements
\end{itemize}

\subsection{Achievement Badges}
\begin{itemize}
    \item \textbf{üèÖ Task Master:} Complete 100 tasks successfully
    \item \textbf{‚ö° Speed Demon:} Complete tasks 20\% faster than average
    \item \textbf{üíé Quality Champion:} Maintain 95\%+ satisfaction rating
    \item \textbf{üéØ Lead Closer:} Convert 80\%+ of qualified leads
    \item \textbf{üåü Team Player:} Help 10+ team members with tasks
    \item \textbf{üöÄ Process Innovator:} Suggest 5+ process improvements
\end{itemize}

\section{üìä Coach Dashboard - Complete Business Overview}

\subsection{What It Does - Simple Explanation}
Think of the Coach Dashboard as your business command center that shows you everything you need to know about your business at a glance, with AI-powered insights and recommendations.

\textbf{In Simple Terms:}
\begin{itemize}
    \item \textbf{Business Overview:} All key metrics in one place
    \item \textbf{Real-time Analytics:} Live data from all business areas
    \item \textbf{AI Insights:} Smart recommendations and alerts
    \item \textbf{Daily Priority Feed:} What to focus on today
    \item \textbf{Customizable Widgets:} Arrange data how you want to see it
\end{itemize}

\subsection{Dashboard Sections}
\begin{itemize}
    \item \textbf{Overview:} Key metrics, quick actions, and growth trends
    \item \textbf{Leads:} Lead analytics, conversion funnel, and source analysis
    \item \textbf{Tasks:} Task distribution, overdue items, and completion rates
    \item \textbf{Marketing:} Campaign performance and AI insights
    \item \textbf{Financial:} Revenue trends, projections, and payment status
    \item \textbf{Team:} Staff performance, leaderboard, and workload
    \item \textbf{Performance:} KPIs, trends, and alerts
\end{itemize}

\subsection{How Coaches Use It Daily}
\begin{enumerate}
    \item \textbf{Morning Review (10 min):} Check overview metrics and daily priority feed
    \item \textbf{Throughout Day:} Monitor real-time alerts and performance indicators
    \item \textbf{Weekly Analysis (30 min):} Deep dive into analytics and trends
    \item \textbf{Monthly Planning (1 hour):} Review performance and plan improvements
\end{enumerate}

\subsection{AI-Powered Features}
\begin{itemize}
    \item \textbf{Performance Alerts:} Automatic warnings when metrics drop
    \item \textbf{Revenue Projections:} Predict future earnings based on current data
    \item \textbf{Optimization Suggestions:} AI recommendations for improvement
    \item \textbf{Anomaly Detection:} Identify unusual patterns in data
\end{itemize}

\section{üéØ Lead Magnets System - Health Tools for Lead Generation}

\subsection{What It Does - Simple Explanation}
Think of the Lead Magnets System as a collection of valuable health and fitness tools that coaches can offer to potential clients for free, helping them capture leads while providing real value. Each tool can be turned on or off by the coach.

\textbf{In Simple Terms:}
\begin{itemize}
    \item \textbf{AI Health Diet Planner:} Personalized meal plans delivered via WhatsApp chat
    \item \textbf{BMI Calculator:} Calculate BMI and get personalized health recommendations
    \item \textbf{Fitness E-Books:} Downloadable fitness guides generated with AI
    \item \textbf{Workout Calculator:} Calculate 1RM, heart rate zones, and calorie burn
    \item \textbf{Progress Tracker:} Track weight, measurements, and workout progress
    \item \textbf{Sleep Analyzer:} Analyze sleep quality and get improvement tips
    \item \textbf{Stress Assessment:} Evaluate stress levels and get coping strategies
\end{itemize}

\subsection{How Coaches Use It}
\begin{enumerate}
    \item \textbf{Setup:} Enable/disable specific lead magnets in their dashboard
    \textbf{Integration:} Add lead magnets to their funnels and landing pages
    \item \textbf{Lead Capture:} Collect leads when people use the tools
    \item \textbf{Follow-up:} Use interaction data to personalize follow-up messages
    \item \textbf{Analytics:} Track which tools generate the most leads and conversions
\end{enumerate}

\subsection{Lead Magnet Features}

\subsubsection{1. AI Health Diet Planner (WhatsApp)}
\begin{itemize}
    \item \textbf{Personalized Meal Plans:} AI generates 7-day meal plans based on user preferences
    \item \textbf{WhatsApp Integration:} Delivers plans directly via WhatsApp chat
    \item \textbf{Smart Calculations:} Automatically calculates BMR and daily calorie needs
    \item \textbf{Dietary Restrictions:} Accommodates vegetarian, vegan, gluten-free, keto diets
    \item \textbf{Shopping Lists:} Generates organized shopping lists for each meal plan
\end{itemize}

\subsubsection{2. BMI Calculator with Recommendations}
\begin{itemize}
    \item \textbf{Accurate BMI Calculation:} Uses standard BMI formula with height/weight
    \item \textbf{Health Category Classification:} Underweight, Normal, Overweight, Obese
    \item \textbf{Ideal Weight Range:} Calculates healthy weight range for user's height
    \item \textbf{AI-Powered Recommendations:} Personalized diet and exercise advice
    \item \textbf{Health Score:} Overall health assessment based on multiple factors
\end{itemize}

\subsubsection{3. Fitness E-Book Generator}
\begin{itemize}
    \item \textbf{Multiple E-Book Types:} Fat loss, workouts, nutrition, mindset guides
    \item \textbf{AI Content Generation:} Personalized content based on user data
    \item \textbf{Professional Formatting:} Structured sections with actionable content
    \item \textbf{Downloadable PDFs:} Easy to share and save
    \item \textbf{Lead Capture:} Email collection for e-book downloads
\end{itemize}

\subsubsection{4. Workout Calculator}
\begin{itemize}
    \item \textbf{1RM Calculator:} Calculate one-rep max for strength training
    \item \textbf{Heart Rate Zones:} Fat burn, cardio, and peak training zones
    \item \textbf{Calorie Burn Estimates:} Activity-based calorie calculations
    \item \textbf{Exercise Recommendations:} Suggested workouts based on goals
    \item \textbf{Progress Tracking:} Monitor strength improvements over time
\end{itemize}

\subsubsection{5. Progress Tracker}
\begin{itemize}
    \item \textbf{Weight Tracking:} Monitor weight changes over time
    \item \textbf{Body Measurements:} Track chest, waist, hips, arms, thighs
    \item \textbf{Workout Logging:} Record exercise type, duration, intensity
    \item \textbf{Photo Progress:} Visual progress tracking with photos
    \item \textbf{Analytics Dashboard:} Progress charts and trend analysis
\end{itemize}

\subsubsection{6. Sleep Quality Analyzer}
\begin{itemize}
    \item \textbf{Sleep Efficiency Calculation:} Analyze sleep quality metrics
    \item \textbf{Sleep Score:} Overall sleep quality rating (0-100)
    \item \textbf{Interruption Tracking:} Monitor sleep disruptions
    \item \textbf{Personalized Recommendations:} Sleep hygiene tips and improvements
    \item \textbf{Sleep Pattern Analysis:} Identify sleep quality trends
\end{itemize}

\subsubsection{7. Stress Assessment Tool}
\begin{itemize}
    \item \textbf{Stress Level Evaluation:} Comprehensive stress assessment
    \item \textbf{Stress Score:} Quantified stress level (0-100)
    \item \textbf{Coping Strategies:} Personalized stress management techniques
    \item \textbf{Activity Recommendations:} Stress relief activities and exercises
    \item \textbf{Wellness Planning:} Long-term stress management plans
\end{itemize}

\subsection{Technical Implementation}

\subsubsection{Service Architecture}
\begin{lstlisting}[language=JavaScript]
// services/leadMagnetsService.js
class LeadMagnetsService {
    constructor() {
        this.availableLeadMagnets = {
            'ai_diet_planner': { name: 'AI Health Diet Planner', type: 'whatsapp_chat' },
            'bmi_calculator': { name: 'BMI Calculator', type: 'web_widget' },
            'fitness_ebook': { name: 'Fitness E-Book Collection', type: 'downloadable' },
            // ... more lead magnets
        };
    }
    
    async generateAIDietPlan(coachId, leadId, userPreferences) {
        // AI-powered meal plan generation
    }
    
    async calculateBMIAndRecommendations(weight, height, age, gender, activityLevel) {
        // BMI calculation with health recommendations
    }
}
\end{lstlisting}

\subsubsection{Database Schema Extensions}
\begin{lstlisting}[language=JavaScript]
// Lead Schema - Lead Magnet Interactions
leadMagnetInteractions: [{
    type: { type: String, enum: ['ai_diet_planner', 'bmi_calculator', ...] },
    data: { type: mongoose.Schema.Types.Mixed },
    timestamp: { type: Date, default: Date.now },
    conversion: { type: Boolean, default: false }
}],

// Coach Schema - Lead Magnet Settings
leadMagnets: {
    ai_diet_planner: {
        isEnabled: { type: Boolean, default: true },
        config: { maxInteractions: Number, planDuration: Number }
    }
    // ... more lead magnet configurations
}
\end{lstlisting}

\subsection{API Endpoints}

\subsubsection{Coach Management}
\begin{lstlisting}[caption=Get Coach Lead Magnets]
GET /api/lead-magnets/coach
Authorization: Bearer <token>
\end{lstlisting}

\begin{lstlisting}[caption=Update Lead Magnet Settings]
PUT /api/lead-magnets/coach
{
    "leadMagnetSettings": {
        "ai_diet_planner": { "isEnabled": true, "config": { "planDuration": 7 } },
        "bmi_calculator": { "isEnabled": false }
    }
}
\end{lstlisting}

\subsubsection{Lead Magnet Tools}
\begin{lstlisting}[caption=Generate AI Diet Plan]
POST /api/lead-magnets/ai-diet-plan
{
    "leadId": "lead_id_here",
    "userPreferences": {
        "age": 30,
        "gender": "female",
        "weight": 65,
        "height": 165,
        "activityLevel": "moderately_active",
        "goals": "weight_loss",
        "dietaryRestrictions": ["vegetarian"]
    }
}
\end{lstlisting}

\begin{lstlisting}[caption=Calculate BMI]
POST /api/lead-magnets/bmi-calculator
{
    "weight": 70,
    "height": 170,
    "age": 25,
    "gender": "male",
    "activityLevel": "very_active"
}
\end{lstlisting}

\subsection{Benefits for Coaches}

\subsubsection{Lead Generation}
\begin{itemize}
    \item \textbf{High-Value Offers:} Free tools that provide real value to prospects
    \item \textbf{Targeted Capture:} Attract leads interested in specific health areas
    \item \textbf{Multiple Touchpoints:} Various tools for different audience segments
    \item \textbf{Qualified Leads:} Users who engage with tools are more likely to convert
\end{itemize}

\subsubsection{Lead Nurturing}
\begin{itemize}
    \item \textbf{Personalized Follow-up:} Use interaction data for targeted messaging
    \item \textbf{Value-Based Communication:} Continue providing value through tools
    \item \textbf{Progress Tracking:} Monitor lead engagement and progress
    \item \textbf{Conversion Optimization:} Identify which tools drive the most conversions
\end{itemize}

\subsubsection{Business Growth}
\begin{itemize}
    \item \textbf{Increased Lead Volume:} More prospects through valuable tools
    \item \textbf{Higher Conversion Rates:} Better qualified leads from tool usage
    \item \textbf{Competitive Advantage:} Unique AI-powered health tools
    \item \textbf{Scalable Lead Generation:} Automated tools work 24/7
\end{itemize}

\subsection{How Lead Magnets Work with Lead Scoring}

The Lead Magnets System is now fully integrated with the lead scoring system, automatically increasing lead scores based on interactions:

\textbf{Automatic Score Increases:}
\begin{itemize}
    \item \textbf{Each Interaction:} +8 points (shows engagement)
    \item \textbf{Conversions:} +15 points (shows high intent)
    \item \textbf{Multiple Interactions (3+):} +20 bonus points (sustained interest)
    \item \textbf{Recent Activity (7 days):} +10 bonus points (current engagement)
    \item \textbf{Progress Tracking:} +5 points per entry (max 25 points)
\end{itemize}

\textbf{Scoring Examples:}
\begin{itemize}
    \item Lead uses BMI calculator: Score increases by 8 points
    \item Lead downloads e-book: Score increases by 8 points
    \item Lead gets AI diet plan: Score increases by 8 points
    \item Lead signs up after using diet planner: +15 conversion points
    \item Lead uses 3+ tools: +20 bonus for sustained interest
\end{itemize}

\textbf{Benefits for Coaches:}
\begin{itemize}
    \item \textbf{Automatic Qualification:} Engaged leads automatically get higher scores
    \item \textbf{Priority Identification:} High-scoring leads are prioritized for follow-up
    \item \textbf{Conversion Tracking:} See which lead magnets drive actual conversions
    \item \textbf{Performance Analytics:} Track which tools are most effective
\end{itemize}

\textbf{API Endpoints for Scoring:}
\begin{itemize}
    \item \texttt{POST /api/lead-magnets/mark-conversion} - Mark interaction as converted
    \item \texttt{GET /api/lead-magnets/interaction-analytics} - Get scoring impact analytics
    \item \texttt{GET /api/leads/:id/ai-rescore} - Manually recalculate lead score
\end{itemize}

\section{Conclusion}

The AI Ads Agent, Workflow \& Task Management, Staff Leaderboard, Coach Dashboard, and Lead Magnets System provide coaches with a comprehensive business management and lead generation platform. These features represent a significant advancement in the Coach Dashboard's capabilities, offering:

\begin{itemize}
    \item Intelligent marketing automation that saves time and improves results
    \item Streamlined operations with visual workflow management
    \item Data-driven decision making through comprehensive analytics
    \item Scalable business processes that grow with the business
    \item High-value lead magnets that attract and nurture qualified prospects
\end{itemize}

The implementation demonstrates technical excellence through modular architecture, sophisticated AI integration, enhanced database design, and comprehensive API development. These features directly contribute to coaches' ability to grow their business, improve client outcomes, scale efficiently, and focus on what they do best - coaching their clients.

\end{document}
