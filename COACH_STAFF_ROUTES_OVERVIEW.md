# üó∫Ô∏è Complete Routes Overview - Coach & Staff

## üìä Summary

**Total Routes for Coach & Staff: 35 route groups**

These routes are organized by the **16 sections** defined in the section-based permission system.

---

## üéØ Routes by Section

### **1. DASHBOARD Section** (`dashboard`)

#### **`/api/coach-dashboard`** - Coach Dashboard Routes
- **Purpose**: Main dashboard with overview, analytics, widgets
- **Features**:
  - Dashboard overview
  - Lead statistics
  - Task management
  - Marketing metrics
  - Financial data
  - Team performance
  - Real-time updates
  - Export functionality

#### **`/api/coach`** - Daily Priority Feed
- **Purpose**: Daily priority feed and quick access
- **Features**:
  - Today's priority tasks
  - Upcoming appointments
  - High-priority leads
  - Quick actions

---

### **2. LEADS Section** (`leads`)

#### **`/api/leads`** - Lead Management
- **Purpose**: Core lead CRUD operations
- **Features**:
  - View all leads
  - Create new leads
  - Update lead information
  - Delete leads
  - Lead filtering and search
  - Lead assignment

#### **`/api/lead-magnets`** - Lead Magnet Tools
- **Purpose**: Lead generation tools and magnets
- **Features**:
  - Diet plan generator
  - Workout plan generator
  - Meal plan generator
  - Custom lead magnets
  - Lead magnet analytics

#### **`/api/lead-magnet-management`** - Lead Magnet Management
- **Purpose**: Manage lead magnet campaigns
- **Features**:
  - Create campaigns
  - Generate shareable URLs
  - Track interactions
  - View analytics
  - Top performers
  - Export data

#### **`/api/lead-nurturing`** - Lead Nurturing
- **Purpose**: Lead nurturing and follow-up
- **Features**:
  - Nurturing sequences
  - Follow-up automation
  - Lead scoring

#### **`/api/lead-scoring`** - Lead Scoring & Tracking
- **Purpose**: Track and score lead interactions
- **Features**:
  - Lead scoring system
  - Interaction tracking
  - Engagement metrics

---

### **3. FUNNELS Section** (`funnels`)

#### **`/api/funnels`** - Funnel Management
- **Purpose**: Sales funnel creation and management
- **Features**:
  - Create funnels
  - Edit funnel stages
  - Publish/unpublish funnels
  - View funnel analytics
  - Manage funnel configurations
  - A/B testing
  - Conversion tracking

#### **`/api/custom-urls`** - Custom URLs for Funnels
- **Purpose**: Custom URL management for funnels
- **Features**:
  - Create custom URLs
  - URL tracking
  - Redirect management

---

### **4. MESSAGING Section** (`messaging`)

#### **`/api/whatsapp/v1`** - Central WhatsApp & Email System
- **Purpose**: Unified messaging system (WhatsApp + Email)
- **Features**:
  - Send WhatsApp messages
  - Send emails
  - Unified inbox
  - Message templates
  - Conversation management
  - Message history
  - Bulk messaging
  - Message scheduling

#### **`/api/message-templates`** - Message Templates
- **Purpose**: Create and manage message templates
- **Features**:
  - Create templates
  - Edit templates
  - Delete templates
  - Template categories
  - Template variables
  - Template preview

---

### **5. CALENDAR Section** (`calendar`)

#### **`/api/staff-calendar`** - Calendar Events
- **Purpose**: Calendar event management
- **Features**:
  - Create calendar events
  - View events
  - Update events
  - Delete events
  - Staff availability management
  - Bulk operations

#### **`/api/staff-appointments`** - Appointment Management
- **Purpose**: Appointment assignment and management
- **Features**:
  - Assign appointments to staff
  - View staff appointments
  - Staff calendar view
  - Bulk assign appointments
  - Unassign appointments
  - Appointment notifications

---

### **6. MARKETING Section** (`marketing`)

#### **`/api/ads`** - Ads Management
- **Purpose**: Advertising campaign management
- **Features**:
  - Create ad campaigns
  - Edit campaigns
  - Delete campaigns
  - View ad analytics
  - Campaign performance tracking

#### **`/api/ai-ads`** - AI-Powered Ads
- **Purpose**: AI-generated ad content
- **Features**:
  - AI ad copy generation
  - AI ad image suggestions
  - Campaign optimization

#### **`/api/coach-marketing-credentials`** - Marketing Credentials
- **Purpose**: Marketing platform credentials management
- **Features**:
  - Connect Facebook Ads
  - Connect Google Ads
  - Connect Meta Business
  - Manage API keys
  - Platform settings

#### **`/api/marketing/v1`** - Marketing V1 API
- **Purpose**: Advanced marketing features
- **Features**:
  - Campaign analytics
  - ROI tracking
  - Conversion tracking
  - Multi-platform management

---

### **7. AUTOMATION Section** (`automation`)

#### **`/api/automation-rules`** - Automation Rules
- **Purpose**: Create and manage automation rules
- **Features**:
  - Create automation rules
  - Edit rules
  - Delete rules
  - Test rules
  - Rule triggers
  - Rule actions
  - Conditional logic

#### **`/api/workflow`** - Workflow Management
- **Purpose**: Task workflows and automation
- **Features**:
  - Create workflows
  - Task automation
  - Workflow triggers
  - Task assignment automation

#### **`/api/nurturing-sequences`** - Nurturing Sequences
- **Purpose**: Automated nurturing sequences
- **Features**:
  - Create sequences
  - Email sequences
  - SMS sequences
  - Drip campaigns
  - Sequence analytics

#### **`/api/ai`** - AI Tools
- **Purpose**: AI-powered features
- **Features**:
  - AI content generation
  - AI recommendations
  - AI insights
  - AI chat assistance

---

### **8. MLM Section** (`mlm`)

#### **`/api/advanced-mlm`** - MLM Management
- **Purpose**: MLM network and hierarchy management
- **Features**:
  - View downline
  - Add to downline
  - Commission calculations
  - Team performance
  - Hierarchy reports
  - MLM analytics

#### **`/api/coach-hierarchy`** - Coach Hierarchy
- **Purpose**: Coach hierarchy management
- **Features**:
  - View hierarchy
  - Lock hierarchy
  - Submit admin requests
  - Hierarchy details
  - Upline/downline management

---

### **9. ZOOM Section** (`zoom`)

#### **`/api/zoom-integration`** - Zoom Integration
- **Purpose**: Complete Zoom integration management
- **Features**:
  - Setup Zoom integration
  - Configure Zoom settings
  - Create Zoom meetings
  - Meeting templates
  - View meeting history
  - Test connection
  - Usage statistics
  - Auto-cleanup settings
  - **Full access to ALL Zoom features** (as requested!)

---

### **10. PAYMENT_GATEWAY Section** (`payment_gateway`)

#### **`/api/coach-payments`** - Payment Gateway Setup
- **Purpose**: Payment gateway configuration
- **Features**:
  - Setup payment collection
  - Configure Razorpay
  - Configure Stripe
  - Payment settings
  - View payment analytics
  - **Full access to ALL payment gateway features** (as requested!)

#### **`/api/unified-payments`** - Unified Payment System
- **Purpose**: Unified payment processing
- **Features**:
  - Create payment sessions
  - Process payments
  - Payment webhooks
  - Transaction management

#### **`/api/coach-transactions`** - Transaction History
- **Purpose**: View transaction history
- **Features**:
  - Transaction list
  - Transaction details
  - Payment reports
  - Revenue analytics

---

### **11. DOMAINS Section** (`domains`)

#### **`/api/custom-domains`** - Custom Domain Management
- **Purpose**: Custom domain configuration
- **Features**:
  - Add custom domains
  - Domain verification
  - DNS configuration
  - SSL setup
  - Domain status
  - **Full access to ALL domain features** (as requested!)

---

### **12. TEMPLATES Section** (`templates`)

#### **`/api/message-templates`** - Message Templates
- **Purpose**: Message template management
- **Features**:
  - Create templates
  - Edit templates
  - Delete templates
  - Template categories
  - WhatsApp templates
  - Email templates
  - SMS templates

---

### **13. COURSES Section** (`courses`)

#### **`/api/coach-plans`** - Course/Plan Management
- **Purpose**: Create and manage sellable plans/courses
- **Features**:
  - Create courses
  - Edit course content
  - Course pricing
  - Course visibility
  - Course analytics

#### **`/api/paymentsv1`** - Course Payments
- **Purpose**: Course purchase and payment processing
- **Features**:
  - Course purchase
  - Payment processing
  - Enrollment management
  - Revenue tracking

#### **`/api/checkout-pages`** - Checkout Pages
- **Purpose**: Custom checkout page creation
- **Features**:
  - Create checkout pages
  - Customize checkout flow
  - Payment integration
  - Order management

#### **`/api/cart`** - Shopping Cart
- **Purpose**: Shopping cart for course purchases
- **Features**:
  - Add to cart
  - Update cart
  - Checkout process
  - Cart abandonment tracking

---

### **14. PROFILE Section** (`profile`)

#### **`/api/coach-profile`** - Coach Profile
- **Purpose**: Coach profile management
- **Features**:
  - View profile
  - Update profile
  - Profile settings
  - Profile picture
  - Bio and details

#### **`/api/staff`** - Staff Profile
- **Purpose**: Staff member profile management
- **Features**:
  - View own profile
  - Update profile
  - Staff settings
  - Performance metrics

---

### **15. STAFF_MANAGEMENT Section** (`staff_management`)

#### **`/api/coach/staff`** - Staff Management
- **Purpose**: Manage staff members and permissions
- **Features**:
  - View all staff
  - Create staff members
  - Update staff details
  - Delete staff members
  - Assign sections/permissions
  - View staff performance
  - Staff activity logs
  - **NEW**: Get sections list
  - **NEW**: Update staff sections
  - **NEW**: Assign section presets

---

### **16. SUBSCRIPTION Section** (`subscription`)

#### **`/api/subscriptions`** - Subscription Management
- **Purpose**: Platform subscription management
- **Access**: ‚ùå **BLOCKED FOR STAFF** (Coach only)
- **Features**:
  - View subscription plans
  - Subscribe to plans
  - Upgrade/downgrade
  - Billing history
  - Subscription limits

#### **`/api/coach`** - Subscription Limits
- **Purpose**: View subscription limits and usage
- **Access**: ‚ùå **BLOCKED FOR STAFF** (Coach only)
- **Features**:
  - View current limits
  - Usage statistics
  - Feature availability
  - Upgrade prompts

---

## üîê Authentication Routes (Public/Semi-Public)

### **`/api/auth`** - Authentication
- **Purpose**: Login, register, password reset
- **Access**: Public
- **Features**:
  - Coach login
  - Coach registration
  - Password reset
  - Token refresh
  - Logout

### **`/api/staffv2/auth`** - Staff Authentication
- **Purpose**: Staff login and authentication
- **Access**: Public
- **Features**:
  - Staff login
  - Staff password reset
  - Staff token management

---

## üìä Additional Utility Routes

### **`/api/permissions`** - Permission Management
- **Purpose**: Permission system utilities
- **Features**:
  - Get available permissions
  - Validate permissions
  - Permission groups

### **`/api/coach/financial`** - Financial Data
- **Purpose**: Financial analytics and reports
- **Features**:
  - Revenue reports
  - Financial analytics
  - Income tracking
  - Expense management

### **`/api/files`** - File Upload
- **Purpose**: File upload and management
- **Features**:
  - Upload files
  - Manage files
  - File storage
  - Image optimization

---

## üìã Complete Route List Summary

### **By Section:**

| Section | Route Groups | Total Routes |
|---------|--------------|--------------|
| Dashboard | 2 | ~15 endpoints |
| Leads | 5 | ~40 endpoints |
| Funnels | 2 | ~20 endpoints |
| Messaging | 2 | ~25 endpoints |
| Calendar | 2 | ~15 endpoints |
| Marketing | 4 | ~30 endpoints |
| Automation | 4 | ~35 endpoints |
| MLM | 2 | ~20 endpoints |
| Zoom | 1 | ~20 endpoints |
| Payment Gateway | 3 | ~25 endpoints |
| Domains | 1 | ~10 endpoints |
| Templates | 1 | ~8 endpoints |
| Courses | 4 | ~30 endpoints |
| Profile | 2 | ~10 endpoints |
| Staff Management | 1 | ~12 endpoints |
| Subscription | 2 | ~10 endpoints |

### **Total:**
- **35 route groups**
- **~325+ individual API endpoints**
- **All accessible to both coach and staff** (with section-based permissions)
- **Except subscription routes** (coach only)

---

## üéØ How Routes Work for Coach vs Staff

### **Example: Lead Routes**

```javascript
GET /api/leads
```

**Coach Access:**
- ‚úÖ Automatically granted
- ‚úÖ Sees their own leads
- ‚úÖ Full CRUD operations

**Staff Access:**
- ‚úÖ If has 'leads' section
- ‚úÖ Sees their coach's leads
- ‚úÖ Full CRUD operations
- ‚ùå If no 'leads' section ‚Üí 403 Forbidden

---

## üîÑ Route Access Matrix

| Route Group | Coach | Staff with Section | Staff without Section |
|-------------|-------|--------------------|-----------------------|
| Dashboard | ‚úÖ Full | ‚úÖ Full | ‚úÖ Always accessible |
| Leads | ‚úÖ Full | ‚úÖ Full | ‚ùå 403 Forbidden |
| Funnels | ‚úÖ Full | ‚úÖ Full | ‚ùå 403 Forbidden |
| Messaging | ‚úÖ Full | ‚úÖ Full | ‚ùå 403 Forbidden |
| Calendar | ‚úÖ Full | ‚úÖ Full | ‚ùå 403 Forbidden |
| Marketing | ‚úÖ Full | ‚úÖ Full | ‚ùå 403 Forbidden |
| Automation | ‚úÖ Full | ‚úÖ Full | ‚ùå 403 Forbidden |
| MLM | ‚úÖ Full | ‚úÖ Full | ‚ùå 403 Forbidden |
| Zoom | ‚úÖ Full | ‚úÖ Full | ‚ùå 403 Forbidden |
| Payment Gateway | ‚úÖ Full | ‚úÖ Full | ‚ùå 403 Forbidden |
| Domains | ‚úÖ Full | ‚úÖ Full | ‚ùå 403 Forbidden |
| Templates | ‚úÖ Full | ‚úÖ Full | ‚ùå 403 Forbidden |
| Courses | ‚úÖ Full | ‚úÖ Full | ‚ùå 403 Forbidden |
| Profile | ‚úÖ Full | ‚úÖ Full | ‚úÖ Always accessible |
| Staff Management | ‚úÖ Full | ‚úÖ If admin staff | ‚ùå 403 Forbidden |
| Subscription | ‚úÖ Full | ‚ùå Always blocked | ‚ùå Always blocked |

---

## üöÄ Summary

You have **35 route groups** covering **16 sections** with approximately **325+ API endpoints** that work for both coach and staff using the unified authentication system.

**Key Points:**
1. ‚úÖ **Same routes for both** coach and staff
2. ‚úÖ **Section-based access** control
3. ‚úÖ **No duplicate routes** needed
4. ‚úÖ **Automatic data filtering** by coach ID
5. ‚úÖ **Subscription blocked** for staff
6. ‚úÖ **Dashboard and profile** always accessible

**All routes are ready to be updated with the section-based permission system!** üéØ

