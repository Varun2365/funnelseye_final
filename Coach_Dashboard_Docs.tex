\documentclass[12pt,a4paper]{article}
\usepackage[utf8]{inputenc}
\usepackage{geometry}
\usepackage{graphicx}
\usepackage{hyperref}
\usepackage{listings}
\usepackage{xcolor}
\usepackage{enumitem}
\usepackage{fancyhdr}
\usepackage{titlesec}

% Page setup
\geometry{left=2.5cm,right=2.5cm,top=2.5cm,bottom=2.5cm}

% Header and footer
\pagestyle{fancy}
\fancyhf{}
\fancyhead[L]{\textbf{Coach Dashboard - Project Documentation}}
\fancyhead[R]{\thepage}
\renewcommand{\headrulewidth}{0.4pt}

% Title formatting
\titleformat{\section}{\Large\bfseries\color{blue}}{\thesection}{1em}{}
\titleformat{\subsection}{\large\bfseries\color{darkgray}}{\thesubsection}{1em}{}

% Code listing style
\lstset{
    basicstyle=\ttfamily\footnotesize,
    breaklines=true,
    frame=single,
    numbers=left,
    keywordstyle=\color{blue},
    commentstyle=\color{green!60!black},
    stringstyle=\color{red},
    backgroundcolor=\color{gray!10}
}

% Custom colors
\definecolor{darkgray}{rgb}{0.3,0.3,0.3}

% Custom commands
\newcommand{\apiendpoint}[2]{\textbf{#1} \\ \texttt{#2}}
\newcommand{\samplecode}[1]{\begin{lstlisting}[language=JSON]#1\end{lstlisting}}

\begin{document}

\begin{titlepage}
    \centering
    \vspace*{2cm}
    
    {\Huge\bfseries\color{blue} Coach Dashboard}\\[0.5cm]
    {\Large\bfseries Complete Project Documentation}\\[1cm]
    
    \vspace{1cm}
    
    {\large\textbf{AI-Powered SaaS Platform for Fitness Coaches}}\\[0.5cm]
    {\large\textbf{Automation Powerhouse with Comprehensive Analytics}}\\[1cm]
    
    \vspace{2cm}
    
    {\large\textbf{Document Version:} 1.0}\\[0.5cm]
    {\large\textbf{Last Updated:} \today}\\[0.5cm]
    {\large\textbf{Project Status:} Production Ready}\\[1cm]
    
    \vfill
    
    {\large\textbf{For Internal Team Use Only}}
\end{titlepage}

\tableofcontents
\newpage

\section{System Overview}

\subsection{What is the Coach Dashboard?}

The Coach Dashboard is a comprehensive SaaS platform designed specifically for fitness coaches to manage their entire business operations through a single, AI-powered interface. It's an "Automation Powerhouse" that handles everything from lead generation to client management, marketing automation, and business analytics.

\subsection{Key Features}

\begin{itemize}
    \item \textbf{AI-Powered Lead Generation} - Automated lead capture and qualification
    \item \textbf{Marketing \& Advertising Automation} - AI-driven ad campaigns and optimization
    \item \textbf{Workflow \& Task Management} - Kanban-style project management with AI SOP generation
    \item \textbf{Staff Management \& Leaderboards} - Performance tracking and team motivation
    \item \textbf{Lead Magnets System} - AI-powered health tools for lead generation
    \item \textbf{Comprehensive Analytics} - Real-time business insights and performance metrics
    \item \textbf{Document Management} - Secure file storage and e-signature integration
    \item \textbf{E-commerce \& Revenue Management} - Payment processing and subscription management
\end{itemize}

\subsection{Technology Stack}

\begin{itemize}
    \item \textbf{Backend:} Node.js with Express.js framework
    \item \textbf{Database:} MongoDB with Mongoose ODM
    \item \textbf{Message Queue:} RabbitMQ for asynchronous processing
    \item \textbf{AI Integration:} OpenAI GPT-4 for intelligent automation
    \item \textbf{External APIs:} Meta Ads API, WhatsApp Business API (Baileys)
    \item \textbf{Authentication:} JWT-based secure authentication
    \item \textbf{File Storage:} Local file system with deduplication
\end{itemize}

\section{Core Modules}

\section{1. Lead Generation \& Funnel Management}

\subsection{AI Copy Agent}
\textbf{Purpose:} Automatically generates compelling headlines, CTAs, and content for landing pages and marketing materials.

\textbf{API Endpoints:}
\begin{itemize}
    \item \apiendpoint{Generate Copy}{POST /api/ai-ads/generate-copy}
    \item \apiendpoint{Optimize Copy}{POST /api/ai-ads/optimize-copy}
    \item \apiendpoint{Get Copy Performance}{GET /api/ai-ads/copy-performance}
\end{itemize}

\textbf{Sample Request:}
\samplecode{
{
  "targetAudience": "fitness enthusiasts",
  "campaignGoal": "lead generation",
  "productType": "personal training",
  "tone": "motivational",
  "platform": "facebook"
}
}

\subsection{CRM with AI Intelligence}
\textbf{Purpose:} Intelligent lead management with behavioral scoring and automated qualification.

\textbf{API Endpoints:}
\begin{itemize}
    \item \apiendpoint{Create Lead}{POST /api/leads}
    \item \apiendpoint{Get Leads}{GET /api/leads}
    \item \apiendpoint{Update Lead}{PUT /api/leads/:id}
    \item \apiendpoint{AI Rescore}{GET /api/leads/:id/ai-rescore}
    \item \apiendpoint{Convert Lead}{POST /api/leads/:id/convert}
\end{itemize}

\textbf{Lead Scoring Algorithm:}
\begin{itemize}
    \item \textbf{Basic Information:} +5 points for email/phone, +15 for both
    \item \textbf{Lead Temperature:} Hot (+30), Warm (+15), Cold (+5)
    \item \textbf{Lead Magnet Interactions:} +8 points per interaction
    \item \textbf{Conversions:} +15 points per conversion
    \item \textbf{Multiple Interactions:} +20 bonus for 3+ interactions
    \item \textbf{Recent Activity:} +10 points for activity in last 7 days
    \item \textbf{Progress Tracking:} +5 points per entry (max 25)
\end{itemize}

\section{2. Marketing \& Advertising}

\subsection{AI Ads Agent}
\textbf{Purpose:} Fully automated advertising campaign management with AI-driven optimization.

\textbf{API Endpoints:}
\begin{itemize}
    \item \apiendpoint{Create Campaign}{POST /api/ads/campaigns}
    \item \apiendpoint{Generate Creative}{POST /api/ai-ads/generate-creative}
    \item \apiendpoint{Optimize Budget}{POST /api/ai-ads/optimize-budget}
    \item \apiendpoint{Get Analytics}{GET /api/ads/analytics}
    \item \apiendpoint{Detect Anomalies}{GET /api/ai-ads/anomalies}
\end{itemize}

\textbf{Performance Metrics:}
\begin{itemize}
    \item \textbf{CTR (Click-Through Rate):} Target > 2\%
    \item \textbf{CPC (Cost Per Click):} Target < \$2.00
    \item \textbf{ROAS (Return on Ad Spend):} Target > 3.0
    \item \textbf{Conversion Rate:} Target > 5\%
\end{itemize}

\section{3. Workflow \& Task Management}

\subsection{Kanban-Style Workflow Board}
\textbf{Purpose:} Visual task management system with AI-powered automation.

\textbf{API Endpoints:}
\begin{itemize}
    \item \apiendpoint{Create Task}{POST /api/workflow/tasks}
    \item \apiendpoint{Get Tasks}{GET /api/workflow/tasks}
    \item \apiendpoint{Update Task}{PUT /api/workflow/tasks/:id}
    \item \apiendpoint{Generate SOP}{POST /api/workflow/generate-sop}
    \item \apiendpoint{Assign Tasks}{POST /api/workflow/auto-assign}
\end{itemize}

\textbf{Task States:}
\begin{itemize}
    \item \textbf{Backlog} - New tasks awaiting assignment
    \item \textbf{To Do} - Assigned tasks ready to start
    \item \textbf{In Progress} - Currently being worked on
    \item \textbf{Review} - Completed tasks awaiting approval
    \item \textbf{Done} - Successfully completed tasks
\end{itemize}

\section{4. Staff Management \& Leaderboards}

\subsection{Staff Performance Scoring}
\textbf{Purpose:} Gamified performance tracking with achievements and leaderboards.

\textbf{Scoring Weights:}
\begin{itemize}
    \item \textbf{Task Completion:} 35\% - Tasks completed on time
    \item \textbf{Quality Rating:} 25\% - Client satisfaction scores
    \item \textbf{Efficiency:} 20\% - Time taken vs estimated
    \item \textbf{Leadership:} 15\% - Helping other team members
    \item \textbf{Innovation:} 5\% - Process improvements suggested
\end{itemize}

\textbf{API Endpoints:}
\begin{itemize}
    \item \apiendpoint{Get Leaderboard}{GET /api/staff-leaderboard}
    \item \apiendpoint{Get Staff Score}{GET /api/staff-leaderboard/:staffId}
    \item \apiendpoint{Get Achievements}{GET /api/staff-leaderboard/achievements}
    \item \apiendpoint{Update Weights}{PUT /api/staff-leaderboard/weights}
    \item \apiendpoint{Get Comparison}{GET /api/staff-leaderboard/compare}
\end{itemize}

\section{5. Lead Magnets System}

\subsection{AI-Powered Health Tools}
\textbf{Purpose:} Collection of valuable health and fitness tools that coaches can offer to potential clients for free.

\textbf{Available Lead Magnets:}
\begin{itemize}
    \item \textbf{AI Health Diet Planner} - Personalized meal plans via WhatsApp
    \item \textbf{BMI Calculator} - Calculate BMI with health recommendations
    \item \textbf{Fitness E-Book Collection} - Downloadable fitness guides
    \item \textbf{Weekly Meal Planner} - Customized meal plans with recipes
    \item \textbf{Workout Calculator} - 1RM, heart rate, and calorie calculations
    \item \textbf{Progress Tracker} - Track weight, measurements, and workouts
    \item \textbf{Sleep Quality Analyzer} - Analyze sleep patterns and get tips
    \item \textbf{Stress Assessment Tool} - Evaluate stress levels and get recommendations
\end{itemize}

\textbf{API Endpoints:}
\begin{itemize}
    \item \apiendpoint{Get Coach Settings}{GET /api/lead-magnets/coach}
    \item \apiendpoint{Update Settings}{PUT /api/lead-magnets/coach}
    \item \apiendpoint{Generate Diet Plan}{POST /api/lead-magnets/ai-diet-plan}
    \item \apiendpoint{Calculate BMI}{POST /api/lead-magnets/bmi-calculator}
    \item \apiendpoint{Generate E-book}{POST /api/lead-magnets/ebook-generator}
    \item \apiendpoint{Track Progress}{POST /api/lead-magnets/progress-tracker}
    \item \apiendpoint{Mark Conversion}{POST /api/lead-magnets/mark-conversion}
    \item \apiendpoint{Get Analytics}{GET /api/lead-magnets/interaction-analytics}
\end{itemize}

\textbf{Lead Scoring Integration:}
\begin{itemize}
    \item \textbf{Each Interaction:} +8 points (shows engagement)
    \item \textbf{Conversions:} +15 points (shows high intent)
    \item \textbf{Multiple Interactions (3+):} +20 bonus points (sustained interest)
    \item \textbf{Recent Activity (7 days):} +10 bonus points (current engagement)
    \item \textbf{Progress Tracking:} +5 points per entry (max 25 points)
\end{itemize}

\section{6. Coach Dashboard - Main Analytics Hub}

\subsection{Comprehensive Business Intelligence}
\textbf{Purpose:} Centralized dashboard providing real-time insights from all modules with AI-powered recommendations.

\textbf{Dashboard Sections:}
\begin{itemize}
    \item \textbf{Lead Analytics} - Lead generation metrics, scoring distribution, conversion funnel
    \item \textbf{Marketing Analytics} - Campaign performance, ad spend analysis, creative performance
    \item \textbf{Task \& Workflow Analytics} - Task completion rates, workflow efficiency, staff performance
    \item \textbf{Financial Analytics} - Revenue tracking, payment status, revenue projections
    \item \textbf{Team Performance} - Staff leaderboards, team productivity, skill gaps
\end{itemize}

\textbf{API Endpoints:}
\begin{itemize}
    \item \apiendpoint{Get Dashboard Overview}{GET /api/coach-dashboard/overview}
    \item \apiendpoint{Get Lead Analytics}{GET /api/coach-dashboard/leads}
    \item \apiendpoint{Get Marketing Analytics}{GET /api/coach-dashboard/marketing}
    \item \apiendpoint{Get Task Analytics}{GET /api/coach-dashboard/tasks}
    \item \apiendpoint{Get Financial Data}{GET /api/coach-dashboard/financial}
    \item \apiendpoint{Get Team Performance}{GET /api/coach-dashboard/team}
    \item \apiendpoint{Get Daily Feed}{GET /api/coach-dashboard/daily-feed}
    \item \apiendpoint{Get Custom Analytics}{GET /api/coach-dashboard/custom}
\end{itemize}

\section{7. Document \& Content Management}

\subsection{Document Locker}
\textbf{Purpose:} Secure file storage with deduplication and validation.

\textbf{Features:}
\begin{itemize}
    \item \textbf{Secure Storage} - Encrypted file storage with access controls
    \item \textbf{Deduplication} - Prevents duplicate file uploads using SHA256 hashing
    \item \textbf{File Validation} - MIME type and size validation
    \item \textbf{Metadata Tracking} - File information and upload history
    \item \textbf{Entity Association} - Link files to leads, funnels, or coach profiles
\end{itemize}

\textbf{API Endpoints:}
\begin{itemize}
    \item \apiendpoint{Upload File}{POST /api/files/upload}
    \item \apiendpoint{Get Files}{GET /api/files}
    \item \apiendpoint{Download File}{GET /api/files/:id/download}
    \item \apiendpoint{Delete File}{DELETE /api/files/:id}
    \item \apiendpoint{Get File Info}{GET /api/files/:id}
\end{itemize}

\section{8. E-commerce \& Revenue Management}

\subsection{Payment Processing System}
\textbf{Purpose:} Handle payment processing, subscription management, and revenue tracking.

\textbf{Features:}
\begin{itemize}
    \item \textbf{Multi-Currency Support} - USD, INR, EUR, GBP
    \item \textbf{Payment Gateway Integration} - Stripe, PayPal, Razorpay
    \item \textbf{Subscription Management} - Recurring billing and plan management
    \item \textbf{Cart Recovery} - Abandoned cart automation
    \item \textbf{Revenue Analytics} - Financial performance tracking
\end{itemize}

\textbf{API Endpoints:}
\begin{itemize}
    \item \apiendpoint{Process Payment}{POST /api/payments/process}
    \item \apiendpoint{Receive Webhook}{POST /api/payments/receive}
    \item \apiendpoint{Get Payment History}{GET /api/payments/history}
    \item \apiendpoint{Create Subscription}{POST /api/payments/subscriptions}
    \item \apiendpoint{Cancel Subscription}{DELETE /api/payments/subscriptions/:id}
\end{itemize}

\section{Database Schema}

\subsection{Core Collections}

\subsubsection{Lead Schema}
\textbf{Key Fields:}
\begin{itemize}
    \item \textbf{Basic Info:} name, email, phone, country, city
    \item \textbf{Qualification:} status, leadTemperature, source, targetAudience
    \item \textbf{Scoring:} score (0-100), leadMagnetInteractions, progressTracking
    \item \textbf{Automation:} nurturingSequence, nurturingStepIndex, followUpHistory
    \item \textbf{Appointments:} appointment status, scheduledTime, zoomLink
\end{itemize}

\subsubsection{Coach Schema}
\textbf{Key Fields:}
\begin{itemize}
    \item \textbf{Profile:} name, email, phone, specialization, experience
    \item \textbf{Settings:} leadMagnets configuration, automation preferences
    \item \textbf{Integrations:} API keys, webhook URLs, external service configs
    \item \textbf{Analytics:} performance metrics, historical data
\end{itemize}

\subsubsection{Task Schema}
\textbf{Key Fields:}
\begin{itemize}
    \item \textbf{Basic Info:} title, description, priority, category
    \item \textbf{Assignment:} assignedTo, coachId, dueDate, estimatedHours
    \item \textbf{Status:} status, progress, completedAt, actualHours
    \item \textbf{Dependencies:} dependencies, subtasks, parentTask
\end{itemize}

\subsubsection{Payment Schema}
\textbf{Key Fields:}
\begin{itemize}
    \item \textbf{Transaction:} paymentId, amount, currency, status
    \item \textbf{References:} lead, coach, paymentMethod
    \item \textbf{Gateway:} gatewayResponse, transactionId, fee
    \item \textbf{Metadata:} description, createdAt, updatedAt
\end{itemize}

\section{Integration Details}

\subsection{External API Integrations}

\subsubsection{OpenAI GPT-4 Integration}
\textbf{Purpose:} Power AI features across the platform.

\textbf{Usage:}
\begin{itemize}
    \item \textbf{Ad Copy Generation} - Create compelling marketing content
    \item \textbf{SOP Generation} - Automate standard operating procedures
    \item \textbf{Lead Scoring} - Intelligent lead qualification
    \item \textbf{Diet Planning} - Personalized meal plan generation
    \item \textbf{Content Creation} - E-book and educational content
\end{itemize}

\subsubsection{Meta Ads API Integration}
\textbf{Purpose:} Manage Facebook and Instagram advertising campaigns.

\textbf{Features:}
\begin{itemize}
    \item \textbf{Campaign Management} - Create, update, and monitor campaigns
    \item \textbf{Creative Generation} - Automated ad creative creation
    \item \textbf{Budget Optimization} - Intelligent budget allocation
    \item \textbf{Performance Tracking} - Real-time metrics and analytics
\end{itemize}

\subsubsection{WhatsApp Business API (Baileys)}
\textbf{Purpose:} Automated messaging and communication.

\textbf{Features:}
\begin{itemize}
    \item \textbf{Dual Channels} - Separate messaging for clients and leads
    \item \textbf{Context-Aware Replies} - Intelligent response generation
    \item \textbf{Message Sequencing} - Automated conversation flows
    \item \textbf{Sentiment Detection} - Emotional intelligence monitoring
\end{itemize}

\subsection{RabbitMQ Message Queue}
\textbf{Purpose:} Handle asynchronous processing and event-driven architecture.

\textbf{Event Types:}
\begin{itemize}
    \item \textbf{lead.created} - New lead captured
    \item \textbf{lead.converted} - Lead converted to client
    \item \textbf{payment.received} - Payment processed
    \item \textbf{task.completed} - Task finished
    \item \textbf{campaign.performance} - Ad campaign metrics
\end{itemize}

\section{Deployment Guide}

\subsection{Environment Setup}

\subsubsection{Prerequisites}
\begin{itemize}
    \item Node.js 18+ and npm
    \item MongoDB 6.0+
    \item RabbitMQ 3.8+
    \item Redis (optional, for caching)
\end{itemize}

\subsubsection{Environment Variables}
\samplecode{
# Database
MONGODB_URI=mongodb://localhost:27017/coach_dashboard

# Authentication
JWT_SECRET=your_jwt_secret_here
JWT_EXPIRE=30d

# OpenAI
OPENAI_API_KEY=sk-your_openai_key_here

# Meta Ads
META_ACCESS_TOKEN=your_meta_token_here
META_APP_ID=your_app_id_here

# WhatsApp
WHATSAPP_SESSION_PATH=./sessions

# RabbitMQ
RABBITMQ_URL=amqp://localhost:5672

# File Storage
UPLOAD_PATH=./uploads
MAX_FILE_SIZE=10485760

# Payment Gateways
STRIPE_SECRET_KEY=sk_test_...
PAYPAL_CLIENT_ID=your_paypal_client_id
RAZORPAY_KEY_ID=your_razorpay_key_id
RAZORPAY_KEY_SECRET=your_razorpay_secret
}

\subsubsection{Installation Steps}
\begin{enumerate}
    \item \textbf{Clone Repository}
    \begin{lstlisting}[language=bash]
git clone <repository-url>
cd coach-dashboard
    \end{lstlisting}
    
    \item \textbf{Install Dependencies}
    \begin{lstlisting}[language=bash]
npm install
    \end{lstlisting}
    
    \item \textbf{Setup Environment}
    \begin{lstlisting}[language=bash]
cp .env.example .env
# Edit .env with your configuration
    \end{lstlisting}
    
    \item \textbf{Start Services}
    \begin{lstlisting}[language=bash]
# Start MongoDB
mongod

# Start RabbitMQ
rabbitmq-server

# Start the application
npm start
    \end{lstlisting}
\end{enumerate}

\section{API Reference Summary}

\subsection{Authentication}
All API endpoints require authentication using JWT tokens in the Authorization header:
\samplecode{
Authorization: Bearer <jwt_token>
}

\subsection{Response Format}
All API responses follow a consistent format:
\samplecode{
{
  "success": true|false,
  "message": "Response message",
  "data": { ... },
  "error": "Error details (if any)"
}
}

\subsection{Error Codes}
\begin{itemize}
    \item \textbf{400} - Bad Request (invalid parameters)
    \item \textbf{401} - Unauthorized (invalid/missing token)
    \item \textbf{403} - Forbidden (insufficient permissions)
    \item \textbf{404} - Not Found (resource doesn't exist)
    \item \textbf{429} - Too Many Requests (rate limited)
    \item \textbf{500} - Internal Server Error
\end{itemize}

\section{Conclusion}

The Coach Dashboard is a comprehensive, AI-powered SaaS platform that revolutionizes how fitness coaches manage their businesses. With its modular architecture, automated workflows, and intelligent features, it provides everything a coach needs to scale their business efficiently.

\textbf{Key Benefits:}
\begin{itemize}
    \item \textbf{Automation} - Reduces manual work by 80\%
    \item \textbf{Intelligence} - AI-driven insights and recommendations
    \item \textbf{Scalability} - Handles growth from 1 to 1000+ clients
    \item \textbf{Integration} - Seamless connection with existing tools
    \item \textbf{Analytics} - Comprehensive business intelligence
\end{itemize}

\textbf{Next Steps:}
\begin{enumerate}
    \item Deploy the platform in staging environment
    \item Conduct thorough testing with real data
    \item Train team members on system usage
    \item Monitor performance and gather feedback
    \item Plan feature enhancements based on usage patterns
\end{enumerate}

For technical support or questions, please contact the development team.

\end{document}
